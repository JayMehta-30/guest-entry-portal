(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Uy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},kl={},lg={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=Symbol.for("react.element"),zy=Symbol.for("react.portal"),By=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Hy=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),by=Symbol.for("react.context"),Wy=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),Ky=Symbol.for("react.memo"),Qy=Symbol.for("react.lazy"),Xf=Symbol.iterator;function Yy(t){return t===null||typeof t!="object"?null:(t=Xf&&t[Xf]||t["@@iterator"],typeof t=="function"?t:null)}var ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,cg={};function ti(t,e,n){this.props=t,this.context=e,this.refs=cg,this.updater=n||ug}ti.prototype.isReactComponent={};ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hg(){}hg.prototype=ti.prototype;function Sc(t,e,n){this.props=t,this.context=e,this.refs=cg,this.updater=n||ug}var Cc=Sc.prototype=new hg;Cc.constructor=Sc;ag(Cc,ti.prototype);Cc.isPureReactComponent=!0;var Jf=Array.isArray,fg=Object.prototype.hasOwnProperty,Tc={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function pg(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)fg.call(e,r)&&!dg.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ds,type:t,key:s,ref:l,props:i,_owner:Tc.current}}function qy(t,e){return{$$typeof:Ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ds}function Xy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zf=/\/+/g;function Iu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xy(""+t.key):e.toString(36)}function ko(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ds:case zy:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Iu(l,0):r,Jf(i)?(n="",t!=null&&(n=t.replace(Zf,"$&/")+"/"),ko(i,e,n,"",function(f){return f})):i!=null&&(Ic(i)&&(i=qy(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Zf,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Jf(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Iu(s,u);l+=ko(s,e,n,c,i)}else if(c=Yy(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Iu(s,u++),l+=ko(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function so(t,e,n){if(t==null)return t;var r=[],i=0;return ko(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Jy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},No={transition:null},Zy={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:No,ReactCurrentOwner:Tc};function gg(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:so,forEach:function(t,e,n){so(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return so(t,function(){e++}),e},toArray:function(t){return so(t,function(e){return e})||[]},only:function(t){if(!Ic(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=ti;Y.Fragment=By;Y.Profiler=Hy;Y.PureComponent=Sc;Y.StrictMode=Vy;Y.Suspense=Gy;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy;Y.act=gg;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ag({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Tc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)fg.call(e,c)&&!dg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Ds,type:t.type,key:i,ref:s,props:r,_owner:l}};Y.createContext=function(t){return t={$$typeof:by,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$y,_context:t},t.Consumer=t};Y.createElement=pg;Y.createFactory=function(t){var e=pg.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Wy,render:t}};Y.isValidElement=Ic;Y.lazy=function(t){return{$$typeof:Qy,_payload:{_status:-1,_result:t},_init:Jy}};Y.memo=function(t,e){return{$$typeof:Ky,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=No.transition;No.transition={};try{t()}finally{No.transition=e}};Y.unstable_act=gg;Y.useCallback=function(t,e){return Ze.current.useCallback(t,e)};Y.useContext=function(t){return Ze.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};Y.useEffect=function(t,e){return Ze.current.useEffect(t,e)};Y.useId=function(){return Ze.current.useId()};Y.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return Ze.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};Y.useRef=function(t){return Ze.current.useRef(t)};Y.useState=function(t){return Ze.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return Ze.current.useTransition()};Y.version="18.3.1";lg.exports=Y;var Te=lg.exports;const e0=Uy(Te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=Te,n0=Symbol.for("react.element"),r0=Symbol.for("react.fragment"),i0=Object.prototype.hasOwnProperty,s0=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o0={key:!0,ref:!0,__self:!0,__source:!0};function mg(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)i0.call(e,r)&&!o0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:n0,type:t,key:s,ref:l,props:i,_owner:s0.current}}kl.Fragment=r0;kl.jsx=mg;kl.jsxs=mg;og.exports=kl;var b=og.exports,ca={},_g={exports:{}},gt={},vg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var $=F.length;F.push(H);e:for(;0<$;){var ee=$-1>>>1,re=F[ee];if(0<i(re,H))F[ee]=H,F[$]=re,$=ee;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],$=F.pop();if($!==H){F[0]=$;e:for(var ee=0,re=F.length,we=re>>>1;ee<we;){var $t=2*(ee+1)-1,bt=F[$t],Wt=$t+1,Gt=F[Wt];if(0>i(bt,$))Wt<re&&0>i(Gt,bt)?(F[ee]=Gt,F[Wt]=$,ee=Wt):(F[ee]=bt,F[$t]=$,ee=$t);else if(Wt<re&&0>i(Gt,$))F[ee]=Gt,F[Wt]=$,ee=Wt;else break e}}return H}function i(F,H){var $=F.sortIndex-H.sortIndex;return $!==0?$:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],_=1,g=null,m=3,P=!1,R=!1,A=!1,B=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(F){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=F)r(f),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(f)}}function D(F){if(A=!1,k(F),!R)if(n(c)!==null)R=!0,Ge(j);else{var H=n(f);H!==null&&ae(D,H.startTime-F)}}function j(F,H){R=!1,A&&(A=!1,I(p),p=-1),P=!0;var $=m;try{for(k(H),g=n(c);g!==null&&(!(g.expirationTime>H)||F&&!T());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,m=g.priorityLevel;var re=ee(g.expirationTime<=H);H=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(c)&&r(c),k(H)}else r(c);g=n(c)}if(g!==null)var we=!0;else{var $t=n(f);$t!==null&&ae(D,$t.startTime-H),we=!1}return we}finally{g=null,m=$,P=!1}}var U=!1,w=null,p=-1,y=5,E=-1;function T(){return!(t.unstable_now()-E<y)}function C(){if(w!==null){var F=t.unstable_now();E=F;var H=!0;try{H=w(!0,F)}finally{H?v():(U=!1,w=null)}}else U=!1}var v;if(typeof S=="function")v=function(){S(C)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,oe=W.port2;W.port1.onmessage=C,v=function(){oe.postMessage(null)}}else v=function(){B(C,0)};function Ge(F){w=F,U||(U=!0,v())}function ae(F,H){p=B(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,Ge(j))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var $=m;m=H;try{return F()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=m;m=F;try{return H()}finally{m=$}},t.unstable_scheduleCallback=function(F,H,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,F={id:_++,callback:H,priorityLevel:F,startTime:$,expirationTime:re,sortIndex:-1},$>ee?(F.sortIndex=$,e(f,F),n(c)===null&&F===n(f)&&(A?(I(p),p=-1):A=!0,ae(D,$-ee))):(F.sortIndex=re,e(c,F),R||P||(R=!0,Ge(j))),F},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(F){var H=m;return function(){var $=m;m=H;try{return F.apply(this,arguments)}finally{m=$}}}})(yg);vg.exports=yg;var l0=vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=Te,pt=l0;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wg=new Set,is={};function hr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(is[t]=e,t=0;t<e.length;t++)wg.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,a0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function c0(t){return ha.call(td,t)?!0:ha.call(ed,t)?!1:a0.test(t)?td[t]=!0:(ed[t]=!0,!1)}function h0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f0(t,e,n,r){if(e===null||typeof e>"u"||h0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Nc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,Nc);je[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,Nc);je[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,Nc);je[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rc(t,e,n,r){var i=je.hasOwnProperty(e)?je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f0(e,n,i,r)&&(n=null),r||i===null?c0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=u0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),fa=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),xc=Symbol.for("react.forward_ref"),da=Symbol.for("react.suspense"),pa=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Cg=Symbol.for("react.offscreen"),nd=Symbol.iterator;function Ci(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,ku;function Ui(t){if(ku===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ku=e&&e[1]||""}return`
`+ku+t}var Nu=!1;function Ru(t,e){if(!t||Nu)return"";Nu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Nu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ui(t):""}function d0(t){switch(t.tag){case 5:return Ui(t.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return t=Ru(t.type,!1),t;case 11:return t=Ru(t.type.render,!1),t;case 1:return t=Ru(t.type,!0),t;default:return""}}function ga(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sr:return"Fragment";case Er:return"Portal";case fa:return"Profiler";case Pc:return"StrictMode";case da:return"Suspense";case pa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sg:return(t.displayName||"Context")+".Consumer";case Eg:return(t._context.displayName||"Context")+".Provider";case xc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ac:return e=t.displayName||null,e!==null?e:ga(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return ga(t(e))}catch{}}return null}function p0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ga(e);case 8:return e===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g0(t){var e=Tg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lo(t){t._valueTracker||(t._valueTracker=g0(t))}function Ig(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ma(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kg(t,e){e=e.checked,e!=null&&Rc(t,"checked",e,!1)}function _a(t,e){kg(t,e);var n=Mn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?va(t,e.type,n):e.hasOwnProperty("defaultValue")&&va(t,e.type,Mn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function id(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function va(t,e,n){(e!=="number"||zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zi=Array.isArray;function Lr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ya(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(zi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mn(n)}}function Ng(t,e){var n=Mn(e.value),r=Mn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function od(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uo,Pg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ss(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m0=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(t){m0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hi[e]=Hi[t]})});function xg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hi.hasOwnProperty(t)&&Hi[t]?(""+e).trim():e+"px"}function Ag(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _0=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(t,e){if(e){if(_0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ta=null,Mr=null,Fr=null;function ld(t){if(t=Ms(t)){if(typeof Ta!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Al(e),Ta(t.stateNode,t.type,e))}}function Dg(t){Mr?Fr?Fr.push(t):Fr=[t]:Mr=t}function Og(){if(Mr){var t=Mr,e=Fr;if(Fr=Mr=null,ld(t),e)for(t=0;t<e.length;t++)ld(e[t])}}function Lg(t,e){return t(e)}function Mg(){}var Pu=!1;function Fg(t,e,n){if(Pu)return t(e,n);Pu=!0;try{return Lg(t,e,n)}finally{Pu=!1,(Mr!==null||Fr!==null)&&(Mg(),Og())}}function os(t,e){var n=t.stateNode;if(n===null)return null;var r=Al(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ia=!1;if(nn)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{Ia=!1}function v0(t,e,n,r,i,s,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(_){this.onError(_)}}var $i=!1,Bo=null,Vo=!1,ka=null,y0={onError:function(t){$i=!0,Bo=t}};function w0(t,e,n,r,i,s,l,u,c){$i=!1,Bo=null,v0.apply(y0,arguments)}function E0(t,e,n,r,i,s,l,u,c){if(w0.apply(this,arguments),$i){if($i){var f=Bo;$i=!1,Bo=null}else throw Error(O(198));Vo||(Vo=!0,ka=f)}}function fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ud(t){if(fr(t)!==t)throw Error(O(188))}function S0(t){var e=t.alternate;if(!e){if(e=fr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ud(i),t;if(s===r)return ud(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Ug(t){return t=S0(t),t!==null?zg(t):null}function zg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zg(t);if(e!==null)return e;t=t.sibling}return null}var Bg=pt.unstable_scheduleCallback,ad=pt.unstable_cancelCallback,C0=pt.unstable_shouldYield,T0=pt.unstable_requestPaint,Se=pt.unstable_now,I0=pt.unstable_getCurrentPriorityLevel,Oc=pt.unstable_ImmediatePriority,Vg=pt.unstable_UserBlockingPriority,Ho=pt.unstable_NormalPriority,k0=pt.unstable_LowPriority,Hg=pt.unstable_IdlePriority,Nl=null,Bt=null;function N0(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:x0,R0=Math.log,P0=Math.LN2;function x0(t){return t>>>=0,t===0?32:31-(R0(t)/P0|0)|0}var ao=64,co=4194304;function Bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $o(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Bi(u):(s&=l,s!==0&&(r=Bi(s)))}else l=n&~i,l!==0?r=Bi(l):s!==0&&(r=Bi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function A0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Ot(s),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=A0(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Na(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $g(){var t=ao;return ao<<=1,!(ao&4194240)&&(ao=64),t}function xu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function O0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ot(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Lc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function bg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wg,Mc,Gg,Kg,Qg,Ra=!1,ho=[],Sn=null,Cn=null,Tn=null,ls=new Map,us=new Map,vn=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cd(t,e){switch(t){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(e.pointerId)}}function Ii(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ms(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M0(t,e,n,r,i){switch(e){case"focusin":return Sn=Ii(Sn,t,e,n,r,i),!0;case"dragenter":return Cn=Ii(Cn,t,e,n,r,i),!0;case"mouseover":return Tn=Ii(Tn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ls.set(s,Ii(ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,us.set(s,Ii(us.get(s)||null,t,e,n,r,i)),!0}return!1}function Yg(t){var e=qn(t.target);if(e!==null){var n=fr(e);if(n!==null){if(e=n.tag,e===13){if(e=jg(n),e!==null){t.blockedOn=e,Qg(t.priority,function(){Gg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ca=r,n.target.dispatchEvent(r),Ca=null}else return e=Ms(n),e!==null&&Mc(e),t.blockedOn=n,!1;e.shift()}return!0}function hd(t,e,n){Ro(t)&&n.delete(e)}function F0(){Ra=!1,Sn!==null&&Ro(Sn)&&(Sn=null),Cn!==null&&Ro(Cn)&&(Cn=null),Tn!==null&&Ro(Tn)&&(Tn=null),ls.forEach(hd),us.forEach(hd)}function ki(t,e){t.blockedOn===e&&(t.blockedOn=null,Ra||(Ra=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,F0)))}function as(t){function e(i){return ki(i,t)}if(0<ho.length){ki(ho[0],t);for(var n=1;n<ho.length;n++){var r=ho[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sn!==null&&ki(Sn,t),Cn!==null&&ki(Cn,t),Tn!==null&&ki(Tn,t),ls.forEach(e),us.forEach(e),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Yg(n),n.blockedOn===null&&vn.shift()}var jr=an.ReactCurrentBatchConfig,bo=!0;function j0(t,e,n,r){var i=ne,s=jr.transition;jr.transition=null;try{ne=1,Fc(t,e,n,r)}finally{ne=i,jr.transition=s}}function U0(t,e,n,r){var i=ne,s=jr.transition;jr.transition=null;try{ne=4,Fc(t,e,n,r)}finally{ne=i,jr.transition=s}}function Fc(t,e,n,r){if(bo){var i=Pa(t,e,n,r);if(i===null)Bu(t,e,r,Wo,n),cd(t,r);else if(M0(i,t,e,n,r))r.stopPropagation();else if(cd(t,r),e&4&&-1<L0.indexOf(t)){for(;i!==null;){var s=Ms(i);if(s!==null&&Wg(s),s=Pa(t,e,n,r),s===null&&Bu(t,e,r,Wo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bu(t,e,r,null,n)}}var Wo=null;function Pa(t,e,n,r){if(Wo=null,t=Dc(r),t=qn(t),t!==null)if(e=fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function qg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I0()){case Oc:return 1;case Vg:return 4;case Ho:case k0:return 16;case Hg:return 536870912;default:return 16}default:return 16}}var wn=null,jc=null,Po=null;function Xg(){if(Po)return Po;var t,e=jc,n=e.length,r,i="value"in wn?wn.value:wn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return Po=i.slice(t,1<r?1-r:void 0)}function xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fo(){return!0}function fd(){return!1}function mt(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fo:fd,this.isPropagationStopped=fd,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),e}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=mt(ni),Ls=_e({},ni,{view:0,detail:0}),z0=mt(Ls),Au,Du,Ni,Rl=_e({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Au=t.screenX-Ni.screenX,Du=t.screenY-Ni.screenY):Du=Au=0,Ni=t),Au)},movementY:function(t){return"movementY"in t?t.movementY:Du}}),dd=mt(Rl),B0=_e({},Rl,{dataTransfer:0}),V0=mt(B0),H0=_e({},Ls,{relatedTarget:0}),Ou=mt(H0),$0=_e({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=mt($0),W0=_e({},ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G0=mt(W0),K0=_e({},ni,{data:0}),pd=mt(K0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q0[t])?!!e[t]:!1}function zc(){return X0}var J0=_e({},Ls,{key:function(t){if(t.key){var e=Q0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(t){return t.type==="keypress"?xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z0=mt(J0),ew=_e({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=mt(ew),tw=_e({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),nw=mt(tw),rw=_e({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),iw=mt(rw),sw=_e({},Rl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=mt(sw),lw=[9,13,27,32],Bc=nn&&"CompositionEvent"in window,bi=null;nn&&"documentMode"in document&&(bi=document.documentMode);var uw=nn&&"TextEvent"in window&&!bi,Jg=nn&&(!Bc||bi&&8<bi&&11>=bi),md=" ",_d=!1;function Zg(t,e){switch(t){case"keyup":return lw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function em(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function aw(t,e){switch(t){case"compositionend":return em(e);case"keypress":return e.which!==32?null:(_d=!0,md);case"textInput":return t=e.data,t===md&&_d?null:t;default:return null}}function cw(t,e){if(Cr)return t==="compositionend"||!Bc&&Zg(t,e)?(t=Xg(),Po=jc=wn=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jg&&e.locale!=="ko"?null:e.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hw[t.type]:e==="textarea"}function tm(t,e,n,r){Dg(r),e=Go(e,"onChange"),0<e.length&&(n=new Uc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wi=null,cs=null;function fw(t){fm(t,0)}function Pl(t){var e=kr(t);if(Ig(e))return t}function dw(t,e){if(t==="change")return e}var nm=!1;if(nn){var Lu;if(nn){var Mu="oninput"in document;if(!Mu){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Mu=typeof yd.oninput=="function"}Lu=Mu}else Lu=!1;nm=Lu&&(!document.documentMode||9<document.documentMode)}function wd(){Wi&&(Wi.detachEvent("onpropertychange",rm),cs=Wi=null)}function rm(t){if(t.propertyName==="value"&&Pl(cs)){var e=[];tm(e,cs,t,Dc(t)),Fg(fw,e)}}function pw(t,e,n){t==="focusin"?(wd(),Wi=e,cs=n,Wi.attachEvent("onpropertychange",rm)):t==="focusout"&&wd()}function gw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(cs)}function mw(t,e){if(t==="click")return Pl(e)}function _w(t,e){if(t==="input"||t==="change")return Pl(e)}function vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:vw;function hs(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ha.call(e,i)||!Ft(t[i],e[i]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,e){var n=Ed(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ed(n)}}function im(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?im(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sm(){for(var t=window,e=zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zo(t.document)}return e}function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yw(t){var e=sm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&im(n.ownerDocument.documentElement,n)){if(r!==null&&Vc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Sd(n,s);var l=Sd(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ww=nn&&"documentMode"in document&&11>=document.documentMode,Tr=null,xa=null,Gi=null,Aa=!1;function Cd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aa||Tr==null||Tr!==zo(r)||(r=Tr,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gi&&hs(Gi,r)||(Gi=r,r=Go(xa,"onSelect"),0<r.length&&(e=new Uc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tr)))}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ir={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},Fu={},om={};nn&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function xl(t){if(Fu[t])return Fu[t];if(!Ir[t])return t;var e=Ir[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in om)return Fu[t]=e[n];return t}var lm=xl("animationend"),um=xl("animationiteration"),am=xl("animationstart"),cm=xl("transitionend"),hm=new Map,Td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){hm.set(t,e),hr(e,[t])}for(var ju=0;ju<Td.length;ju++){var Uu=Td[ju],Ew=Uu.toLowerCase(),Sw=Uu[0].toUpperCase()+Uu.slice(1);Bn(Ew,"on"+Sw)}Bn(lm,"onAnimationEnd");Bn(um,"onAnimationIteration");Bn(am,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(cm,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vi));function Id(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E0(r,e,void 0,t),t.currentTarget=null}function fm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Id(i,u,f),s=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Id(i,u,f),s=c}}}if(Vo)throw t=ka,Vo=!1,ka=null,t}function he(t,e){var n=e[Fa];n===void 0&&(n=e[Fa]=new Set);var r=t+"__bubble";n.has(r)||(dm(e,t,2,!1),n.add(r))}function zu(t,e,n){var r=0;e&&(r|=4),dm(n,t,r,e)}var go="_reactListening"+Math.random().toString(36).slice(2);function fs(t){if(!t[go]){t[go]=!0,wg.forEach(function(n){n!=="selectionchange"&&(Cw.has(n)||zu(n,!1,t),zu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[go]||(e[go]=!0,zu("selectionchange",!1,e))}}function dm(t,e,n,r){switch(qg(e)){case 1:var i=j0;break;case 4:i=U0;break;default:i=Fc}n=i.bind(null,e,n,t),i=void 0,!Ia||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=qn(u),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}u=u.parentNode}}r=r.return}Fg(function(){var f=s,_=Dc(n),g=[];e:{var m=hm.get(t);if(m!==void 0){var P=Uc,R=t;switch(t){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":P=Z0;break;case"focusin":R="focus",P=Ou;break;case"focusout":R="blur",P=Ou;break;case"beforeblur":case"afterblur":P=Ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=nw;break;case lm:case um:case am:P=b0;break;case cm:P=iw;break;case"scroll":P=z0;break;case"wheel":P=ow;break;case"copy":case"cut":case"paste":P=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=gd}var A=(e&4)!==0,B=!A&&t==="scroll",I=A?m!==null?m+"Capture":null:m;A=[];for(var S=f,k;S!==null;){k=S;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,I!==null&&(D=os(S,I),D!=null&&A.push(ds(S,D,k)))),B)break;S=S.return}0<A.length&&(m=new P(m,R,null,n,_),g.push({event:m,listeners:A}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",m&&n!==Ca&&(R=n.relatedTarget||n.fromElement)&&(qn(R)||R[rn]))break e;if((P||m)&&(m=_.window===_?_:(m=_.ownerDocument)?m.defaultView||m.parentWindow:window,P?(R=n.relatedTarget||n.toElement,P=f,R=R?qn(R):null,R!==null&&(B=fr(R),R!==B||R.tag!==5&&R.tag!==6)&&(R=null)):(P=null,R=f),P!==R)){if(A=dd,D="onMouseLeave",I="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(A=gd,D="onPointerLeave",I="onPointerEnter",S="pointer"),B=P==null?m:kr(P),k=R==null?m:kr(R),m=new A(D,S+"leave",P,n,_),m.target=B,m.relatedTarget=k,D=null,qn(_)===f&&(A=new A(I,S+"enter",R,n,_),A.target=k,A.relatedTarget=B,D=A),B=D,P&&R)t:{for(A=P,I=R,S=0,k=A;k;k=yr(k))S++;for(k=0,D=I;D;D=yr(D))k++;for(;0<S-k;)A=yr(A),S--;for(;0<k-S;)I=yr(I),k--;for(;S--;){if(A===I||I!==null&&A===I.alternate)break t;A=yr(A),I=yr(I)}A=null}else A=null;P!==null&&kd(g,m,P,A,!1),R!==null&&B!==null&&kd(g,B,R,A,!0)}}e:{if(m=f?kr(f):window,P=m.nodeName&&m.nodeName.toLowerCase(),P==="select"||P==="input"&&m.type==="file")var j=dw;else if(vd(m))if(nm)j=_w;else{j=gw;var U=pw}else(P=m.nodeName)&&P.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=mw);if(j&&(j=j(t,f))){tm(g,j,n,_);break e}U&&U(t,m,f),t==="focusout"&&(U=m._wrapperState)&&U.controlled&&m.type==="number"&&va(m,"number",m.value)}switch(U=f?kr(f):window,t){case"focusin":(vd(U)||U.contentEditable==="true")&&(Tr=U,xa=f,Gi=null);break;case"focusout":Gi=xa=Tr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,Cd(g,n,_);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":Cd(g,n,_)}var w;if(Bc)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Cr?Zg(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Jg&&n.locale!=="ko"&&(Cr||p!=="onCompositionStart"?p==="onCompositionEnd"&&Cr&&(w=Xg()):(wn=_,jc="value"in wn?wn.value:wn.textContent,Cr=!0)),U=Go(f,p),0<U.length&&(p=new pd(p,t,null,n,_),g.push({event:p,listeners:U}),w?p.data=w:(w=em(n),w!==null&&(p.data=w)))),(w=uw?aw(t,n):cw(t,n))&&(f=Go(f,"onBeforeInput"),0<f.length&&(_=new pd("onBeforeInput","beforeinput",null,n,_),g.push({event:_,listeners:f}),_.data=w))}fm(g,e)})}function ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Go(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=os(t,n),s!=null&&r.unshift(ds(t,s,i)),s=os(t,e),s!=null&&r.push(ds(t,s,i))),t=t.return}return r}function yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kd(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=os(n,s),c!=null&&l.unshift(ds(n,c,u))):i||(c=os(n,s),c!=null&&l.push(ds(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Tw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function Nd(t){return(typeof t=="string"?t:""+t).replace(Tw,`
`).replace(Iw,"")}function mo(t,e,n){if(e=Nd(e),Nd(t)!==e&&n)throw Error(O(425))}function Ko(){}var Da=null,Oa=null;function La(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ma=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(t){return Rd.resolve(null).then(t).catch(Rw)}:Ma;function Rw(t){setTimeout(function(){throw t})}function Vu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),as(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);as(e)}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ri=Math.random().toString(36).slice(2),zt="__reactFiber$"+ri,ps="__reactProps$"+ri,rn="__reactContainer$"+ri,Fa="__reactEvents$"+ri,Pw="__reactListeners$"+ri,xw="__reactHandles$"+ri;function qn(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pd(t);t!==null;){if(n=t[zt])return n;t=Pd(t)}return e}t=n,n=t.parentNode}return null}function Ms(t){return t=t[zt]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Al(t){return t[ps]||null}var ja=[],Nr=-1;function Vn(t){return{current:t}}function de(t){0>Nr||(t.current=ja[Nr],ja[Nr]=null,Nr--)}function ue(t,e){Nr++,ja[Nr]=t.current,t.current=e}var Fn={},We=Vn(Fn),ot=Vn(!1),rr=Fn;function $r(t,e){var n=t.type.contextTypes;if(!n)return Fn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function Qo(){de(ot),de(We)}function xd(t,e,n){if(We.current!==Fn)throw Error(O(168));ue(We,e),ue(ot,n)}function pm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,p0(t)||"Unknown",i));return _e({},n,r)}function Yo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fn,rr=We.current,ue(We,t),ue(ot,ot.current),!0}function Ad(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=pm(t,e,rr),r.__reactInternalMemoizedMergedChildContext=t,de(ot),de(We),ue(We,t)):de(ot),ue(ot,n)}var qt=null,Dl=!1,Hu=!1;function gm(t){qt===null?qt=[t]:qt.push(t)}function Aw(t){Dl=!0,gm(t)}function Hn(){if(!Hu&&qt!==null){Hu=!0;var t=0,e=ne;try{var n=qt;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qt=null,Dl=!1}catch(i){throw qt!==null&&(qt=qt.slice(t+1)),Bg(Oc,Hn),i}finally{ne=e,Hu=!1}}return null}var Rr=[],Pr=0,qo=null,Xo=0,vt=[],yt=0,ir=null,Xt=1,Jt="";function Gn(t,e){Rr[Pr++]=Xo,Rr[Pr++]=qo,qo=t,Xo=e}function mm(t,e,n){vt[yt++]=Xt,vt[yt++]=Jt,vt[yt++]=ir,ir=t;var r=Xt;t=Jt;var i=32-Ot(r)-1;r&=~(1<<i),n+=1;var s=32-Ot(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Xt=1<<32-Ot(e)+i|n<<i|r,Jt=s+t}else Xt=1<<s|n<<i|r,Jt=t}function Hc(t){t.return!==null&&(Gn(t,1),mm(t,1,0))}function $c(t){for(;t===qo;)qo=Rr[--Pr],Rr[Pr]=null,Xo=Rr[--Pr],Rr[Pr]=null;for(;t===ir;)ir=vt[--yt],vt[yt]=null,Jt=vt[--yt],vt[yt]=null,Xt=vt[--yt],vt[yt]=null}var dt=null,ft=null,pe=!1,Rt=null;function _m(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ft=In(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ir!==null?{id:Xt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ft=null,!0):!1;default:return!1}}function Ua(t){return(t.mode&1)!==0&&(t.flags&128)===0}function za(t){if(pe){var e=ft;if(e){var n=e;if(!Dd(t,e)){if(Ua(t))throw Error(O(418));e=In(n.nextSibling);var r=dt;e&&Dd(t,e)?_m(r,n):(t.flags=t.flags&-4097|2,pe=!1,dt=t)}}else{if(Ua(t))throw Error(O(418));t.flags=t.flags&-4097|2,pe=!1,dt=t}}}function Od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function _o(t){if(t!==dt)return!1;if(!pe)return Od(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!La(t.type,t.memoizedProps)),e&&(e=ft)){if(Ua(t))throw vm(),Error(O(418));for(;e;)_m(t,e),e=In(e.nextSibling)}if(Od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=In(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=dt?In(t.stateNode.nextSibling):null;return!0}function vm(){for(var t=ft;t;)t=In(t.nextSibling)}function br(){ft=dt=null,pe=!1}function bc(t){Rt===null?Rt=[t]:Rt.push(t)}var Dw=an.ReactCurrentBatchConfig;function Ri(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=i.refs;l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ld(t){var e=t._init;return e(t._payload)}function ym(t){function e(I,S){if(t){var k=I.deletions;k===null?(I.deletions=[S],I.flags|=16):k.push(S)}}function n(I,S){if(!t)return null;for(;S!==null;)e(I,S),S=S.sibling;return null}function r(I,S){for(I=new Map;S!==null;)S.key!==null?I.set(S.key,S):I.set(S.index,S),S=S.sibling;return I}function i(I,S){return I=Pn(I,S),I.index=0,I.sibling=null,I}function s(I,S,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<S?(I.flags|=2,S):k):(I.flags|=2,S)):(I.flags|=1048576,S)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,S,k,D){return S===null||S.tag!==6?(S=Yu(k,I.mode,D),S.return=I,S):(S=i(S,k),S.return=I,S)}function c(I,S,k,D){var j=k.type;return j===Sr?_(I,S,k.props.children,D,k.key):S!==null&&(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mn&&Ld(j)===S.type)?(D=i(S,k.props),D.ref=Ri(I,S,k),D.return=I,D):(D=jo(k.type,k.key,k.props,null,I.mode,D),D.ref=Ri(I,S,k),D.return=I,D)}function f(I,S,k,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=qu(k,I.mode,D),S.return=I,S):(S=i(S,k.children||[]),S.return=I,S)}function _(I,S,k,D,j){return S===null||S.tag!==7?(S=nr(k,I.mode,D,j),S.return=I,S):(S=i(S,k),S.return=I,S)}function g(I,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Yu(""+S,I.mode,k),S.return=I,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case oo:return k=jo(S.type,S.key,S.props,null,I.mode,k),k.ref=Ri(I,null,S),k.return=I,k;case Er:return S=qu(S,I.mode,k),S.return=I,S;case mn:var D=S._init;return g(I,D(S._payload),k)}if(zi(S)||Ci(S))return S=nr(S,I.mode,k,null),S.return=I,S;vo(I,S)}return null}function m(I,S,k,D){var j=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return j!==null?null:u(I,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case oo:return k.key===j?c(I,S,k,D):null;case Er:return k.key===j?f(I,S,k,D):null;case mn:return j=k._init,m(I,S,j(k._payload),D)}if(zi(k)||Ci(k))return j!==null?null:_(I,S,k,D,null);vo(I,k)}return null}function P(I,S,k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(k)||null,u(S,I,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case oo:return I=I.get(D.key===null?k:D.key)||null,c(S,I,D,j);case Er:return I=I.get(D.key===null?k:D.key)||null,f(S,I,D,j);case mn:var U=D._init;return P(I,S,k,U(D._payload),j)}if(zi(D)||Ci(D))return I=I.get(k)||null,_(S,I,D,j,null);vo(S,D)}return null}function R(I,S,k,D){for(var j=null,U=null,w=S,p=S=0,y=null;w!==null&&p<k.length;p++){w.index>p?(y=w,w=null):y=w.sibling;var E=m(I,w,k[p],D);if(E===null){w===null&&(w=y);break}t&&w&&E.alternate===null&&e(I,w),S=s(E,S,p),U===null?j=E:U.sibling=E,U=E,w=y}if(p===k.length)return n(I,w),pe&&Gn(I,p),j;if(w===null){for(;p<k.length;p++)w=g(I,k[p],D),w!==null&&(S=s(w,S,p),U===null?j=w:U.sibling=w,U=w);return pe&&Gn(I,p),j}for(w=r(I,w);p<k.length;p++)y=P(w,I,p,k[p],D),y!==null&&(t&&y.alternate!==null&&w.delete(y.key===null?p:y.key),S=s(y,S,p),U===null?j=y:U.sibling=y,U=y);return t&&w.forEach(function(T){return e(I,T)}),pe&&Gn(I,p),j}function A(I,S,k,D){var j=Ci(k);if(typeof j!="function")throw Error(O(150));if(k=j.call(k),k==null)throw Error(O(151));for(var U=j=null,w=S,p=S=0,y=null,E=k.next();w!==null&&!E.done;p++,E=k.next()){w.index>p?(y=w,w=null):y=w.sibling;var T=m(I,w,E.value,D);if(T===null){w===null&&(w=y);break}t&&w&&T.alternate===null&&e(I,w),S=s(T,S,p),U===null?j=T:U.sibling=T,U=T,w=y}if(E.done)return n(I,w),pe&&Gn(I,p),j;if(w===null){for(;!E.done;p++,E=k.next())E=g(I,E.value,D),E!==null&&(S=s(E,S,p),U===null?j=E:U.sibling=E,U=E);return pe&&Gn(I,p),j}for(w=r(I,w);!E.done;p++,E=k.next())E=P(w,I,p,E.value,D),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?p:E.key),S=s(E,S,p),U===null?j=E:U.sibling=E,U=E);return t&&w.forEach(function(C){return e(I,C)}),pe&&Gn(I,p),j}function B(I,S,k,D){if(typeof k=="object"&&k!==null&&k.type===Sr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case oo:e:{for(var j=k.key,U=S;U!==null;){if(U.key===j){if(j=k.type,j===Sr){if(U.tag===7){n(I,U.sibling),S=i(U,k.props.children),S.return=I,I=S;break e}}else if(U.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mn&&Ld(j)===U.type){n(I,U.sibling),S=i(U,k.props),S.ref=Ri(I,U,k),S.return=I,I=S;break e}n(I,U);break}else e(I,U);U=U.sibling}k.type===Sr?(S=nr(k.props.children,I.mode,D,k.key),S.return=I,I=S):(D=jo(k.type,k.key,k.props,null,I.mode,D),D.ref=Ri(I,S,k),D.return=I,I=D)}return l(I);case Er:e:{for(U=k.key;S!==null;){if(S.key===U)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){n(I,S.sibling),S=i(S,k.children||[]),S.return=I,I=S;break e}else{n(I,S);break}else e(I,S);S=S.sibling}S=qu(k,I.mode,D),S.return=I,I=S}return l(I);case mn:return U=k._init,B(I,S,U(k._payload),D)}if(zi(k))return R(I,S,k,D);if(Ci(k))return A(I,S,k,D);vo(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(n(I,S.sibling),S=i(S,k),S.return=I,I=S):(n(I,S),S=Yu(k,I.mode,D),S.return=I,I=S),l(I)):n(I,S)}return B}var Wr=ym(!0),wm=ym(!1),Jo=Vn(null),Zo=null,xr=null,Wc=null;function Gc(){Wc=xr=Zo=null}function Kc(t){var e=Jo.current;de(Jo),t._currentValue=e}function Ba(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ur(t,e){Zo=t,Wc=xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function St(t){var e=t._currentValue;if(Wc!==t)if(t={context:t,memoizedValue:e,next:null},xr===null){if(Zo===null)throw Error(O(308));xr=t,Zo.dependencies={lanes:0,firstContext:t}}else xr=xr.next=t;return e}var Xn=null;function Qc(t){Xn===null?Xn=[t]:Xn.push(t)}function Em(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Qc(e)):(n.next=i.next,i.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sn(t,n)}return i=r.interleaved,i===null?(e.next=e,Qc(r)):(e.next=i.next,i.next=e),r.interleaved=e,sn(t,n)}function Ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lc(t,n)}}function Md(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function el(t,e,n,r){var i=t.updateQueue;_n=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?s=f:l.next=f,l=c;var _=t.alternate;_!==null&&(_=_.updateQueue,u=_.lastBaseUpdate,u!==l&&(u===null?_.firstBaseUpdate=f:u.next=f,_.lastBaseUpdate=c))}if(s!==null){var g=i.baseState;l=0,_=f=c=null,u=s;do{var m=u.lane,P=u.eventTime;if((r&m)===m){_!==null&&(_=_.next={eventTime:P,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var R=t,A=u;switch(m=e,P=n,A.tag){case 1:if(R=A.payload,typeof R=="function"){g=R.call(P,g,m);break e}g=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=A.payload,m=typeof R=="function"?R.call(P,g,m):R,m==null)break e;g=_e({},g,m);break e;case 2:_n=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else P={eventTime:P,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},_===null?(f=_=P,c=g):_=_.next=P,l|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(_===null&&(c=g),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=_,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);or|=l,t.lanes=l,t.memoizedState=g}}function Fd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Fs={},Vt=Vn(Fs),gs=Vn(Fs),ms=Vn(Fs);function Jn(t){if(t===Fs)throw Error(O(174));return t}function qc(t,e){switch(ue(ms,e),ue(gs,t),ue(Vt,Fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wa(e,t)}de(Vt),ue(Vt,e)}function Gr(){de(Vt),de(gs),de(ms)}function Cm(t){Jn(ms.current);var e=Jn(Vt.current),n=wa(e,t.type);e!==n&&(ue(gs,t),ue(Vt,n))}function Xc(t){gs.current===t&&(de(Vt),de(gs))}var ge=Vn(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $u=[];function Jc(){for(var t=0;t<$u.length;t++)$u[t]._workInProgressVersionPrimary=null;$u.length=0}var Do=an.ReactCurrentDispatcher,bu=an.ReactCurrentBatchConfig,sr=0,me=null,Ie=null,xe=null,nl=!1,Ki=!1,_s=0,Ow=0;function Ve(){throw Error(O(321))}function Zc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function eh(t,e,n,r,i,s){if(sr=s,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Do.current=t===null||t.memoizedState===null?jw:Uw,t=n(r,i),Ki){s=0;do{if(Ki=!1,_s=0,25<=s)throw Error(O(301));s+=1,xe=Ie=null,e.updateQueue=null,Do.current=zw,t=n(r,i)}while(Ki)}if(Do.current=rl,e=Ie!==null&&Ie.next!==null,sr=0,xe=Ie=me=null,nl=!1,e)throw Error(O(300));return t}function th(){var t=_s!==0;return _s=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?me.memoizedState=xe=t:xe=xe.next=t,xe}function Ct(){if(Ie===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=xe===null?me.memoizedState:xe.next;if(e!==null)xe=e,Ie=t;else{if(t===null)throw Error(O(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},xe===null?me.memoizedState=xe=t:xe=xe.next=t}return xe}function vs(t,e){return typeof e=="function"?e(t):e}function Wu(t){var e=Ct(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ie,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=l=null,c=null,f=s;do{var _=f.lane;if((sr&_)===_)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var g={lane:_,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,l=r):c=c.next=g,me.lanes|=_,or|=_}f=f.next}while(f!==null&&f!==s);c===null?l=r:c.next=u,Ft(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,me.lanes|=s,or|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gu(t){var e=Ct(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);Ft(s,e.memoizedState)||(it=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Tm(){}function Im(t,e){var n=me,r=Ct(),i=e(),s=!Ft(r.memoizedState,i);if(s&&(r.memoizedState=i,it=!0),r=r.queue,nh(Rm.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,ys(9,Nm.bind(null,n,r,i,e),void 0,null),Oe===null)throw Error(O(349));sr&30||km(n,e,i)}return i}function km(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nm(t,e,n,r){e.value=n,e.getSnapshot=r,Pm(e)&&xm(t)}function Rm(t,e,n){return n(function(){Pm(e)&&xm(t)})}function Pm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function xm(t){var e=sn(t,1);e!==null&&Lt(e,t,1,-1)}function jd(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},e.queue=t,t=t.dispatch=Fw.bind(null,me,t),[e.memoizedState,t]}function ys(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Am(){return Ct().memoizedState}function Oo(t,e,n,r){var i=Ut();me.flags|=t,i.memoizedState=ys(1|e,n,void 0,r===void 0?null:r)}function Ol(t,e,n,r){var i=Ct();r=r===void 0?null:r;var s=void 0;if(Ie!==null){var l=Ie.memoizedState;if(s=l.destroy,r!==null&&Zc(r,l.deps)){i.memoizedState=ys(e,n,s,r);return}}me.flags|=t,i.memoizedState=ys(1|e,n,s,r)}function Ud(t,e){return Oo(8390656,8,t,e)}function nh(t,e){return Ol(2048,8,t,e)}function Dm(t,e){return Ol(4,2,t,e)}function Om(t,e){return Ol(4,4,t,e)}function Lm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mm(t,e,n){return n=n!=null?n.concat([t]):null,Ol(4,4,Lm.bind(null,e,t),n)}function rh(){}function Fm(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jm(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Um(t,e,n){return sr&21?(Ft(n,e)||(n=$g(),me.lanes|=n,or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function Lw(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=bu.transition;bu.transition={};try{t(!1),e()}finally{ne=n,bu.transition=r}}function zm(){return Ct().memoizedState}function Mw(t,e,n){var r=Rn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bm(t))Vm(e,n);else if(n=Em(t,e,n,r),n!==null){var i=Je();Lt(n,t,r,i),Hm(n,e,r)}}function Fw(t,e,n){var r=Rn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bm(t))Vm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,Ft(u,l)){var c=e.interleaved;c===null?(i.next=i,Qc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Em(t,e,i,r),n!==null&&(i=Je(),Lt(n,t,r,i),Hm(n,e,r))}}function Bm(t){var e=t.alternate;return t===me||e!==null&&e===me}function Vm(t,e){Ki=nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lc(t,n)}}var rl={readContext:St,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},jw={readContext:St,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:Ud,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Oo(4194308,4,Lm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oo(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mw.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:jd,useDebugValue:rh,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=jd(!1),e=t[0];return t=Lw.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,i=Ut();if(pe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Oe===null)throw Error(O(349));sr&30||km(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ud(Rm.bind(null,r,s,t),[t]),r.flags|=2048,ys(9,Nm.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Oe.identifierPrefix;if(pe){var n=Jt,r=Xt;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ow++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uw={readContext:St,useCallback:Fm,useContext:St,useEffect:nh,useImperativeHandle:Mm,useInsertionEffect:Dm,useLayoutEffect:Om,useMemo:jm,useReducer:Wu,useRef:Am,useState:function(){return Wu(vs)},useDebugValue:rh,useDeferredValue:function(t){var e=Ct();return Um(e,Ie.memoizedState,t)},useTransition:function(){var t=Wu(vs)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Tm,useSyncExternalStore:Im,useId:zm,unstable_isNewReconciler:!1},zw={readContext:St,useCallback:Fm,useContext:St,useEffect:nh,useImperativeHandle:Mm,useInsertionEffect:Dm,useLayoutEffect:Om,useMemo:jm,useReducer:Gu,useRef:Am,useState:function(){return Gu(vs)},useDebugValue:rh,useDeferredValue:function(t){var e=Ct();return Ie===null?e.memoizedState=t:Um(e,Ie.memoizedState,t)},useTransition:function(){var t=Gu(vs)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:Tm,useSyncExternalStore:Im,useId:zm,unstable_isNewReconciler:!1};function kt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Va(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ll={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Rn(t),s=en(r,i);s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Lt(e,t,i,r),Ao(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Rn(t),s=en(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kn(t,s,i),e!==null&&(Lt(e,t,i,r),Ao(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Rn(t),i=en(n,r);i.tag=2,e!=null&&(i.callback=e),e=kn(t,i,r),e!==null&&(Lt(e,t,r,n),Ao(e,t,r))}};function zd(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!hs(n,r)||!hs(i,s):!0}function $m(t,e,n){var r=!1,i=Fn,s=e.contextType;return typeof s=="object"&&s!==null?s=St(s):(i=lt(e)?rr:We.current,r=e.contextTypes,s=(r=r!=null)?$r(t,i):Fn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ll,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ll.enqueueReplaceState(e,e.state,null)}function Ha(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=St(s):(s=lt(e)?rr:We.current,i.context=$r(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Va(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ll.enqueueReplaceState(i,i.state,null),el(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kr(t,e){try{var n="",r=e;do n+=d0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ku(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $a(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Bw=typeof WeakMap=="function"?WeakMap:Map;function bm(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sl||(sl=!0,Za=r),$a(t,e)},n}function Wm(t,e,n){n=en(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$a(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$a(t,e),typeof r!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Vd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Bw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eE.bind(null,t,e,n),e.then(t,t))}function Hd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $d(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,kn(n,e,1))),n.lanes|=1),t)}var Vw=an.ReactCurrentOwner,it=!1;function Ye(t,e,n,r){e.child=t===null?wm(e,null,n,r):Wr(e,t.child,n,r)}function bd(t,e,n,r,i){n=n.render;var s=e.ref;return Ur(e,i),r=eh(t,e,n,r,s,i),n=th(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(pe&&n&&Hc(e),e.flags|=1,Ye(t,e,r,i),e.child)}function Wd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!hh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gm(t,e,s,r,i)):(t=jo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(l,r)&&t.ref===e.ref)return on(t,e,i)}return e.flags|=1,t=Pn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(hs(s,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,on(t,e,i)}return ba(t,e,n,r,i)}function Km(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Dr,ht),ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Dr,ht),ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ue(Dr,ht),ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ue(Dr,ht),ht|=r;return Ye(t,e,i,n),e.child}function Qm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ba(t,e,n,r,i){var s=lt(n)?rr:We.current;return s=$r(e,s),Ur(e,i),n=eh(t,e,n,r,s,i),r=th(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,on(t,e,i)):(pe&&r&&Hc(e),e.flags|=1,Ye(t,e,n,i),e.child)}function Gd(t,e,n,r,i){if(lt(n)){var s=!0;Yo(e)}else s=!1;if(Ur(e,i),e.stateNode===null)Lo(t,e),$m(e,n,r),Ha(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=St(f):(f=lt(n)?rr:We.current,f=$r(e,f));var _=n.getDerivedStateFromProps,g=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Bd(e,l,r,f),_n=!1;var m=e.memoizedState;l.state=m,el(e,r,l,i),c=e.memoizedState,u!==r||m!==c||ot.current||_n?(typeof _=="function"&&(Va(e,n,_,r),c=e.memoizedState),(u=_n||zd(e,n,u,r,m,c,f))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Sm(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:kt(e.type,u),l.props=f,g=e.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=St(c):(c=lt(n)?rr:We.current,c=$r(e,c));var P=n.getDerivedStateFromProps;(_=typeof P=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==g||m!==c)&&Bd(e,l,r,c),_n=!1,m=e.memoizedState,l.state=m,el(e,r,l,i);var R=e.memoizedState;u!==g||m!==R||ot.current||_n?(typeof P=="function"&&(Va(e,n,P,r),R=e.memoizedState),(f=_n||zd(e,n,f,r,m,R,c)||!1)?(_||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,R,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,R,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),l.props=r,l.state=R,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wa(t,e,n,r,s,i)}function Wa(t,e,n,r,i,s){Qm(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Ad(e,n,!1),on(t,e,s);r=e.stateNode,Vw.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Wr(e,t.child,null,s),e.child=Wr(e,null,u,s)):Ye(t,e,u,s),e.memoizedState=r.state,i&&Ad(e,n,!0),e.child}function Ym(t){var e=t.stateNode;e.pendingContext?xd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xd(t,e.context,!1),qc(t,e.containerInfo)}function Kd(t,e,n,r,i){return br(),bc(i),e.flags|=256,Ye(t,e,n,r),e.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Ka(t){return{baseLanes:t,cachePool:null,transitions:null}}function qm(t,e,n){var r=e.pendingProps,i=ge.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ue(ge,i&1),t===null)return za(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=jl(l,r,0,null),t=nr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ka(n),e.memoizedState=Ga,t):ih(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Hw(t,e,l,r,u,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Pn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Pn(u,s):(s=nr(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?Ka(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ga,r}return s=t.child,t=s.sibling,r=Pn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ih(t,e){return e=jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yo(t,e,n,r){return r!==null&&bc(r),Wr(e,t.child,null,n),t=ih(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hw(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=Ku(Error(O(422))),yo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=jl({mode:"visible",children:r.children},i,0,null),s=nr(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wr(e,t.child,null,l),e.child.memoizedState=Ka(l),e.memoizedState=Ga,s);if(!(e.mode&1))return yo(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(O(419)),r=Ku(s,r,void 0),yo(t,e,l,r)}if(u=(l&t.childLanes)!==0,it||u){if(r=Oe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sn(t,i),Lt(r,t,i,-1))}return ch(),r=Ku(Error(O(421))),yo(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ft=In(i.nextSibling),dt=e,pe=!0,Rt=null,t!==null&&(vt[yt++]=Xt,vt[yt++]=Jt,vt[yt++]=ir,Xt=t.id,Jt=t.overflow,ir=e),e=ih(e,r.children),e.flags|=4096,e)}function Qd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ba(t.return,e,n)}function Qu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ye(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qd(t,n,e);else if(t.tag===19)Qd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ge,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qu(e,!0,n,null,s);break;case"together":Qu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Pn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $w(t,e,n){switch(e.tag){case 3:Ym(e),br();break;case 5:Cm(e);break;case 1:lt(e.type)&&Yo(e);break;case 4:qc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ue(Jo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?qm(t,e,n):(ue(ge,ge.current&1),t=on(t,e,n),t!==null?t.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,Km(t,e,n)}return on(t,e,n)}var Jm,Qa,Zm,e_;Jm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Zm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jn(Vt.current);var s=null;switch(n){case"input":i=ma(t,i),r=ma(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=ya(t,i),r=ya(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ko)}Ea(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(is.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(is.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&he("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};e_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pi(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bw(t,e,n){var r=e.pendingProps;switch($c(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return lt(e.type)&&Qo(),He(e),null;case 3:return r=e.stateNode,Gr(),de(ot),de(We),Jc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_o(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rt!==null&&(nc(Rt),Rt=null))),Qa(t,e),He(e),null;case 5:Xc(e);var i=Jn(ms.current);if(n=e.type,t!==null&&e.stateNode!=null)Zm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return He(e),null}if(t=Jn(Vt.current),_o(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zt]=e,r[ps]=s,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Vi.length;i++)he(Vi[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":rd(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":sd(r,s),he("invalid",r)}Ea(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&mo(r.textContent,u,t),i=["children",""+u]):is.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&he("scroll",r)}switch(n){case"input":lo(r),id(r,s,!0);break;case"textarea":lo(r),od(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ko)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[zt]=e,t[ps]=r,Jm(t,e,!1,!1),e.stateNode=t;e:{switch(l=Sa(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vi.length;i++)he(Vi[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":rd(t,r),i=ma(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),he("invalid",t);break;case"textarea":sd(t,r),i=ya(t,r),he("invalid",t);break;default:i=r}Ea(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?Ag(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ss(t,c):typeof c=="number"&&ss(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(is.hasOwnProperty(s)?c!=null&&s==="onScroll"&&he("scroll",t):c!=null&&Rc(t,s,c,l))}switch(n){case"input":lo(t),id(t,r,!1);break;case"textarea":lo(t),od(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)e_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Jn(ms.current),Jn(Vt.current),_o(e)){if(r=e.stateNode,n=e.memoizedProps,r[zt]=e,(s=r.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:mo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=e,e.stateNode=r}return He(e),null;case 13:if(de(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&ft!==null&&e.mode&1&&!(e.flags&128))vm(),br(),e.flags|=98560,s=!1;else if(s=_o(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[zt]=e}else br(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else Rt!==null&&(nc(Rt),Rt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Re===0&&(Re=3):ch())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Gr(),Qa(t,e),t===null&&fs(e.stateNode.containerInfo),He(e),null;case 10:return Kc(e.type._context),He(e),null;case 17:return lt(e.type)&&Qo(),He(e),null;case 19:if(de(ge),s=e.memoizedState,s===null)return He(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Pi(s,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=tl(t),l!==null){for(e.flags|=128,Pi(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),e.child}t=t.sibling}s.tail!==null&&Se()>Qr&&(e.flags|=128,r=!0,Pi(s,!1),e.lanes=4194304)}else{if(!r)if(t=tl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!pe)return He(e),null}else 2*Se()-s.renderingStartTime>Qr&&n!==1073741824&&(e.flags|=128,r=!0,Pi(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Se(),e.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return ah(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ht&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function Ww(t,e){switch($c(e),e.tag){case 1:return lt(e.type)&&Qo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),de(ot),de(We),Jc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(de(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));br()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ge),null;case 4:return Gr(),null;case 10:return Kc(e.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var wo=!1,$e=!1,Gw=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ar(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function Ya(t,e,n){try{n()}catch(r){ve(t,e,r)}}var Yd=!1;function Kw(t,e){if(Da=bo,t=sm(),Vc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,_=0,g=t,m=null;t:for(;;){for(var P;g!==n||i!==0&&g.nodeType!==3||(u=l+i),g!==s||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(P=g.firstChild)!==null;)m=g,g=P;for(;;){if(g===t)break t;if(m===n&&++f===i&&(u=l),m===s&&++_===r&&(c=l),(P=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=P}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oa={focusedElem:t,selectionRange:n},bo=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var A=R.memoizedProps,B=R.memoizedState,I=e.stateNode,S=I.getSnapshotBeforeUpdate(e.elementType===e.type?A:kt(e.type,A),B);I.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(D){ve(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return R=Yd,Yd=!1,R}function Qi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ya(e,n,s)}i=i.next}while(i!==r)}}function Ml(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t_(t){var e=t.alternate;e!==null&&(t.alternate=null,t_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zt],delete e[ps],delete e[Fa],delete e[Pw],delete e[xw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n_(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ko));else if(r!==4&&(t=t.child,t!==null))for(Xa(t,e,n),t=t.sibling;t!==null;)Xa(t,e,n),t=t.sibling}function Ja(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ja(t,e,n),t=t.sibling;t!==null;)Ja(t,e,n),t=t.sibling}var Me=null,Nt=!1;function gn(t,e,n){for(n=n.child;n!==null;)r_(t,e,n),n=n.sibling}function r_(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:$e||Ar(n,e);case 6:var r=Me,i=Nt;Me=null,gn(t,e,n),Me=r,Nt=i,Me!==null&&(Nt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Nt?(t=Me,n=n.stateNode,t.nodeType===8?Vu(t.parentNode,n):t.nodeType===1&&Vu(t,n),as(t)):Vu(Me,n.stateNode));break;case 4:r=Me,i=Nt,Me=n.stateNode.containerInfo,Nt=!0,gn(t,e,n),Me=r,Nt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Ya(n,e,l),i=i.next}while(i!==r)}gn(t,e,n);break;case 1:if(!$e&&(Ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ve(n,e,u)}gn(t,e,n);break;case 21:gn(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,gn(t,e,n),$e=r):gn(t,e,n);break;default:gn(t,e,n)}}function Xd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gw),e.forEach(function(r){var i=nE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Me=u.stateNode,Nt=!1;break e;case 3:Me=u.stateNode.containerInfo,Nt=!0;break e;case 4:Me=u.stateNode.containerInfo,Nt=!0;break e}u=u.return}if(Me===null)throw Error(O(160));r_(s,l,i),Me=null,Nt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){ve(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i_(e,t),e=e.sibling}function i_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),jt(t),r&4){try{Qi(3,t,t.return),Ml(3,t)}catch(A){ve(t,t.return,A)}try{Qi(5,t,t.return)}catch(A){ve(t,t.return,A)}}break;case 1:It(e,t),jt(t),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(It(e,t),jt(t),r&512&&n!==null&&Ar(n,n.return),t.flags&32){var i=t.stateNode;try{ss(i,"")}catch(A){ve(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&kg(i,s),Sa(u,l);var f=Sa(u,s);for(l=0;l<c.length;l+=2){var _=c[l],g=c[l+1];_==="style"?Ag(i,g):_==="dangerouslySetInnerHTML"?Pg(i,g):_==="children"?ss(i,g):Rc(i,_,g,f)}switch(u){case"input":_a(i,s);break;case"textarea":Ng(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?Lr(i,!!s.multiple,P,!1):m!==!!s.multiple&&(s.defaultValue!=null?Lr(i,!!s.multiple,s.defaultValue,!0):Lr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ps]=s}catch(A){ve(t,t.return,A)}}break;case 6:if(It(e,t),jt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(A){ve(t,t.return,A)}}break;case 3:if(It(e,t),jt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{as(e.containerInfo)}catch(A){ve(t,t.return,A)}break;case 4:It(e,t),jt(t);break;case 13:It(e,t),jt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lh=Se())),r&4&&Xd(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?($e=(f=$e)||_,It(e,t),$e=f):It(e,t),jt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!_&&t.mode&1)for(z=t,_=t.child;_!==null;){for(g=z=_;z!==null;){switch(m=z,P=m.child,m.tag){case 0:case 11:case 14:case 15:Qi(4,m,m.return);break;case 1:Ar(m,m.return);var R=m.stateNode;if(typeof R.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(A){ve(r,n,A)}}break;case 5:Ar(m,m.return);break;case 22:if(m.memoizedState!==null){Zd(g);continue}}P!==null?(P.return=m,z=P):Zd(g)}_=_.sibling}e:for(_=null,g=t;;){if(g.tag===5){if(_===null){_=g;try{i=g.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=xg("display",l))}catch(A){ve(t,t.return,A)}}}else if(g.tag===6){if(_===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(A){ve(t,t.return,A)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:It(e,t),jt(t),r&4&&Xd(t);break;case 21:break;default:It(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n_(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ss(i,""),r.flags&=-33);var s=qd(t);Ja(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=qd(t);Xa(t,u,l);break;default:throw Error(O(161))}}catch(c){ve(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qw(t,e,n){z=t,s_(t)}function s_(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||wo;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||$e;u=wo;var f=$e;if(wo=l,($e=c)&&!f)for(z=i;z!==null;)l=z,c=l.child,l.tag===22&&l.memoizedState!==null?ep(i):c!==null?(c.return=l,z=c):ep(i);for(;s!==null;)z=s,s_(s),s=s.sibling;z=i,wo=u,$e=f}Jd(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):Jd(t)}}function Jd(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||Ml(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fd(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fd(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var _=f.memoizedState;if(_!==null){var g=_.dehydrated;g!==null&&as(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}$e||e.flags&512&&qa(e)}catch(m){ve(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Zd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function ep(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ml(4,e)}catch(c){ve(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ve(e,i,c)}}var s=e.return;try{qa(e)}catch(c){ve(e,s,c)}break;case 5:var l=e.return;try{qa(e)}catch(c){ve(e,l,c)}}}catch(c){ve(e,e.return,c)}if(e===t){z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,z=u;break}z=e.return}}var Yw=Math.ceil,il=an.ReactCurrentDispatcher,sh=an.ReactCurrentOwner,Et=an.ReactCurrentBatchConfig,X=0,Oe=null,Ce=null,Fe=0,ht=0,Dr=Vn(0),Re=0,ws=null,or=0,Fl=0,oh=0,Yi=null,tt=null,lh=0,Qr=1/0,Yt=null,sl=!1,Za=null,Nn=null,Eo=!1,En=null,ol=0,qi=0,ec=null,Mo=-1,Fo=0;function Je(){return X&6?Se():Mo!==-1?Mo:Mo=Se()}function Rn(t){return t.mode&1?X&2&&Fe!==0?Fe&-Fe:Dw.transition!==null?(Fo===0&&(Fo=$g()),Fo):(t=ne,t!==0||(t=window.event,t=t===void 0?16:qg(t.type)),t):1}function Lt(t,e,n,r){if(50<qi)throw qi=0,ec=null,Error(O(185));Os(t,n,r),(!(X&2)||t!==Oe)&&(t===Oe&&(!(X&2)&&(Fl|=n),Re===4&&yn(t,Fe)),ut(t,r),n===1&&X===0&&!(e.mode&1)&&(Qr=Se()+500,Dl&&Hn()))}function ut(t,e){var n=t.callbackNode;D0(t,e);var r=$o(t,t===Oe?Fe:0);if(r===0)n!==null&&ad(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ad(n),e===1)t.tag===0?Aw(tp.bind(null,t)):gm(tp.bind(null,t)),Nw(function(){!(X&6)&&Hn()}),n=null;else{switch(bg(r)){case 1:n=Oc;break;case 4:n=Vg;break;case 16:n=Ho;break;case 536870912:n=Hg;break;default:n=Ho}n=d_(n,o_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o_(t,e){if(Mo=-1,Fo=0,X&6)throw Error(O(327));var n=t.callbackNode;if(zr()&&t.callbackNode!==n)return null;var r=$o(t,t===Oe?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ll(t,r);else{e=r;var i=X;X|=2;var s=u_();(Oe!==t||Fe!==e)&&(Yt=null,Qr=Se()+500,tr(t,e));do try{Jw();break}catch(u){l_(t,u)}while(!0);Gc(),il.current=s,X=i,Ce!==null?e=0:(Oe=null,Fe=0,e=Re)}if(e!==0){if(e===2&&(i=Na(t),i!==0&&(r=i,e=tc(t,i))),e===1)throw n=ws,tr(t,0),yn(t,r),ut(t,Se()),n;if(e===6)yn(t,r);else{if(i=t.current.alternate,!(r&30)&&!qw(i)&&(e=ll(t,r),e===2&&(s=Na(t),s!==0&&(r=s,e=tc(t,s))),e===1))throw n=ws,tr(t,0),yn(t,r),ut(t,Se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Kn(t,tt,Yt);break;case 3:if(yn(t,r),(r&130023424)===r&&(e=lh+500-Se(),10<e)){if($o(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ma(Kn.bind(null,t,tt,Yt),e);break}Kn(t,tt,Yt);break;case 4:if(yn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Ot(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yw(r/1960))-r,10<r){t.timeoutHandle=Ma(Kn.bind(null,t,tt,Yt),r);break}Kn(t,tt,Yt);break;case 5:Kn(t,tt,Yt);break;default:throw Error(O(329))}}}return ut(t,Se()),t.callbackNode===n?o_.bind(null,t):null}function tc(t,e){var n=Yi;return t.current.memoizedState.isDehydrated&&(tr(t,e).flags|=256),t=ll(t,e),t!==2&&(e=tt,tt=n,e!==null&&nc(e)),t}function nc(t){tt===null?tt=t:tt.push.apply(tt,t)}function qw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ft(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e){for(e&=~oh,e&=~Fl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function tp(t){if(X&6)throw Error(O(327));zr();var e=$o(t,0);if(!(e&1))return ut(t,Se()),null;var n=ll(t,e);if(t.tag!==0&&n===2){var r=Na(t);r!==0&&(e=r,n=tc(t,r))}if(n===1)throw n=ws,tr(t,0),yn(t,e),ut(t,Se()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kn(t,tt,Yt),ut(t,Se()),null}function uh(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(Qr=Se()+500,Dl&&Hn())}}function lr(t){En!==null&&En.tag===0&&!(X&6)&&zr();var e=X;X|=1;var n=Et.transition,r=ne;try{if(Et.transition=null,ne=1,t)return t()}finally{ne=r,Et.transition=n,X=e,!(X&6)&&Hn()}}function ah(){ht=Dr.current,de(Dr)}function tr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kw(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch($c(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:Gr(),de(ot),de(We),Jc();break;case 5:Xc(r);break;case 4:Gr();break;case 13:de(ge);break;case 19:de(ge);break;case 10:Kc(r.type._context);break;case 22:case 23:ah()}n=n.return}if(Oe=t,Ce=t=Pn(t.current,null),Fe=ht=e,Re=0,ws=null,oh=Fl=or=0,tt=Yi=null,Xn!==null){for(e=0;e<Xn.length;e++)if(n=Xn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}Xn=null}return t}function l_(t,e){do{var n=Ce;try{if(Gc(),Do.current=rl,nl){for(var r=me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nl=!1}if(sr=0,xe=Ie=me=null,Ki=!1,_s=0,sh.current=null,n===null||n.return===null){Re=1,ws=e,Ce=null;break}e:{var s=t,l=n.return,u=n,c=e;if(e=Fe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,_=u,g=_.tag;if(!(_.mode&1)&&(g===0||g===11||g===15)){var m=_.alternate;m?(_.updateQueue=m.updateQueue,_.memoizedState=m.memoizedState,_.lanes=m.lanes):(_.updateQueue=null,_.memoizedState=null)}var P=Hd(l);if(P!==null){P.flags&=-257,$d(P,l,u,s,e),P.mode&1&&Vd(s,f,e),e=P,c=f;var R=e.updateQueue;if(R===null){var A=new Set;A.add(c),e.updateQueue=A}else R.add(c);break e}else{if(!(e&1)){Vd(s,f,e),ch();break e}c=Error(O(426))}}else if(pe&&u.mode&1){var B=Hd(l);if(B!==null){!(B.flags&65536)&&(B.flags|=256),$d(B,l,u,s,e),bc(Kr(c,u));break e}}s=c=Kr(c,u),Re!==4&&(Re=2),Yi===null?Yi=[s]:Yi.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=bm(s,c,e);Md(s,I);break e;case 1:u=c;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Nn===null||!Nn.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=Wm(s,u,e);Md(s,D);break e}}s=s.return}while(s!==null)}c_(n)}catch(j){e=j,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function u_(){var t=il.current;return il.current=rl,t===null?rl:t}function ch(){(Re===0||Re===3||Re===2)&&(Re=4),Oe===null||!(or&268435455)&&!(Fl&268435455)||yn(Oe,Fe)}function ll(t,e){var n=X;X|=2;var r=u_();(Oe!==t||Fe!==e)&&(Yt=null,tr(t,e));do try{Xw();break}catch(i){l_(t,i)}while(!0);if(Gc(),X=n,il.current=r,Ce!==null)throw Error(O(261));return Oe=null,Fe=0,Re}function Xw(){for(;Ce!==null;)a_(Ce)}function Jw(){for(;Ce!==null&&!C0();)a_(Ce)}function a_(t){var e=f_(t.alternate,t,ht);t.memoizedProps=t.pendingProps,e===null?c_(t):Ce=e,sh.current=null}function c_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ww(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ce=null;return}}else if(n=bw(n,e,ht),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);Re===0&&(Re=5)}function Kn(t,e,n){var r=ne,i=Et.transition;try{Et.transition=null,ne=1,Zw(t,e,n,r)}finally{Et.transition=i,ne=r}return null}function Zw(t,e,n,r){do zr();while(En!==null);if(X&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(O0(t,s),t===Oe&&(Ce=Oe=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eo||(Eo=!0,d_(Ho,function(){return zr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Et.transition,Et.transition=null;var l=ne;ne=1;var u=X;X|=4,sh.current=null,Kw(t,n),i_(n,t),yw(Oa),bo=!!Da,Oa=Da=null,t.current=n,Qw(n),T0(),X=u,ne=l,Et.transition=s}else t.current=n;if(Eo&&(Eo=!1,En=t,ol=i),s=t.pendingLanes,s===0&&(Nn=null),N0(n.stateNode),ut(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sl)throw sl=!1,t=Za,Za=null,t;return ol&1&&t.tag!==0&&zr(),s=t.pendingLanes,s&1?t===ec?qi++:(qi=0,ec=t):qi=0,Hn(),null}function zr(){if(En!==null){var t=bg(ol),e=Et.transition,n=ne;try{if(Et.transition=null,ne=16>t?16:t,En===null)var r=!1;else{if(t=En,En=null,ol=0,X&6)throw Error(O(331));var i=X;for(X|=4,z=t.current;z!==null;){var s=z,l=s.child;if(z.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(z=f;z!==null;){var _=z;switch(_.tag){case 0:case 11:case 15:Qi(8,_,s)}var g=_.child;if(g!==null)g.return=_,z=g;else for(;z!==null;){_=z;var m=_.sibling,P=_.return;if(t_(_),_===f){z=null;break}if(m!==null){m.return=P,z=m;break}z=P}}}var R=s.alternate;if(R!==null){var A=R.child;if(A!==null){R.child=null;do{var B=A.sibling;A.sibling=null,A=B}while(A!==null)}}z=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,z=l;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qi(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,z=I;break e}z=s.return}}var S=t.current;for(z=S;z!==null;){l=z;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,z=k;else e:for(l=S;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ml(9,u)}}catch(j){ve(u,u.return,j)}if(u===l){z=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,z=D;break e}z=u.return}}if(X=i,Hn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Nl,t)}catch{}r=!0}return r}finally{ne=n,Et.transition=e}}return!1}function np(t,e,n){e=Kr(n,e),e=bm(t,e,1),t=kn(t,e,1),e=Je(),t!==null&&(Os(t,1,e),ut(t,e))}function ve(t,e,n){if(t.tag===3)np(t,t,n);else for(;e!==null;){if(e.tag===3){np(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nn===null||!Nn.has(r))){t=Kr(n,t),t=Wm(e,t,1),e=kn(e,t,1),t=Je(),e!==null&&(Os(e,1,t),ut(e,t));break}}e=e.return}}function eE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(Fe&n)===n&&(Re===4||Re===3&&(Fe&130023424)===Fe&&500>Se()-lh?tr(t,0):oh|=n),ut(t,e)}function h_(t,e){e===0&&(t.mode&1?(e=co,co<<=1,!(co&130023424)&&(co=4194304)):e=1);var n=Je();t=sn(t,e),t!==null&&(Os(t,e,n),ut(t,n))}function tE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h_(t,n)}function nE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),h_(t,n)}var f_;f_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,$w(t,e,n);it=!!(t.flags&131072)}else it=!1,pe&&e.flags&1048576&&mm(e,Xo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(t,e),t=e.pendingProps;var i=$r(e,We.current);Ur(e,n),i=eh(null,e,r,t,i,n);var s=th();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(s=!0,Yo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yc(e),i.updater=Ll,e.stateNode=i,i._reactInternals=e,Ha(e,r,t,n),e=Wa(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&Hc(e),Ye(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iE(r),t=kt(r,t),i){case 0:e=ba(null,e,r,t,n);break e;case 1:e=Gd(null,e,r,t,n);break e;case 11:e=bd(null,e,r,t,n);break e;case 14:e=Wd(null,e,r,kt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),ba(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),Gd(t,e,r,i,n);case 3:e:{if(Ym(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Sm(t,e),el(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Kr(Error(O(423)),e),e=Kd(t,e,r,n,i);break e}else if(r!==i){i=Kr(Error(O(424)),e),e=Kd(t,e,r,n,i);break e}else for(ft=In(e.stateNode.containerInfo.firstChild),dt=e,pe=!0,Rt=null,n=wm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===i){e=on(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Cm(e),t===null&&za(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,La(r,i)?l=null:s!==null&&La(r,s)&&(e.flags|=32),Qm(t,e),Ye(t,e,l,n),e.child;case 6:return t===null&&za(e),null;case 13:return qm(t,e,n);case 4:return qc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wr(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),bd(t,e,r,i,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,ue(Jo,r._currentValue),r._currentValue=l,s!==null)if(Ft(s.value,l)){if(s.children===i.children&&!ot.current){e=on(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=en(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var _=f.pending;_===null?c.next=c:(c.next=_.next,_.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Ba(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(O(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ba(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ye(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ur(e,n),i=St(i),r=r(i),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,i=kt(r,e.pendingProps),i=kt(r.type,i),Wd(t,e,r,i,n);case 15:return Gm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kt(r,i),Lo(t,e),e.tag=1,lt(r)?(t=!0,Yo(e)):t=!1,Ur(e,n),$m(e,r,i),Ha(e,r,i,n),Wa(null,e,r,!0,t,n);case 19:return Xm(t,e,n);case 22:return Km(t,e,n)}throw Error(O(156,e.tag))};function d_(t,e){return Bg(t,e)}function rE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new rE(t,e,n,r)}function hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iE(t){if(typeof t=="function")return hh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xc)return 11;if(t===Ac)return 14}return 2}function Pn(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jo(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")hh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Sr:return nr(n.children,i,s,e);case Pc:l=8,i|=8;break;case fa:return t=wt(12,n,e,i|2),t.elementType=fa,t.lanes=s,t;case da:return t=wt(13,n,e,i),t.elementType=da,t.lanes=s,t;case pa:return t=wt(19,n,e,i),t.elementType=pa,t.lanes=s,t;case Cg:return jl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Eg:l=10;break e;case Sg:l=9;break e;case xc:l=11;break e;case Ac:l=14;break e;case mn:l=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=wt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function nr(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function jl(t,e,n,r){return t=wt(22,t,r,e),t.elementType=Cg,t.lanes=n,t.stateNode={isHidden:!1},t}function Yu(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function qu(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xu(0),this.expirationTimes=xu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fh(t,e,n,r,i,s,l,u,c){return t=new sE(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(s),t}function oE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function p_(t){if(!t)return Fn;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(lt(n))return pm(t,n,e)}return e}function g_(t,e,n,r,i,s,l,u,c){return t=fh(n,r,!0,t,i,s,l,u,c),t.context=p_(null),n=t.current,r=Je(),i=Rn(n),s=en(r,i),s.callback=e??null,kn(n,s,i),t.current.lanes=i,Os(t,i,r),ut(t,r),t}function Ul(t,e,n,r){var i=e.current,s=Je(),l=Rn(i);return n=p_(n),e.context===null?e.context=n:e.pendingContext=n,e=en(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kn(i,e,l),t!==null&&(Lt(t,i,l,s),Ao(t,i,l)),l}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dh(t,e){rp(t,e),(t=t.alternate)&&rp(t,e)}function lE(){return null}var m_=typeof reportError=="function"?reportError:function(t){console.error(t)};function ph(t){this._internalRoot=t}zl.prototype.render=ph.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Ul(t,e,null,null)};zl.prototype.unmount=ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lr(function(){Ul(null,t,null,null)}),e[rn]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vn.length&&e!==0&&e<vn[n].priority;n++);vn.splice(n,0,t),n===0&&Yg(t)}};function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function uE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=ul(l);s.call(f)}}var l=g_(e,r,t,0,null,!1,!1,"",ip);return t._reactRootContainer=l,t[rn]=l.current,fs(t.nodeType===8?t.parentNode:t),lr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=ul(c);u.call(f)}}var c=fh(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=c,t[rn]=c.current,fs(t.nodeType===8?t.parentNode:t),lr(function(){Ul(e,c,n,r)}),c}function Vl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var c=ul(l);u.call(c)}}Ul(e,l,t,i)}else l=uE(n,e,t,i,r);return ul(l)}Wg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bi(e.pendingLanes);n!==0&&(Lc(e,n|1),ut(e,Se()),!(X&6)&&(Qr=Se()+500,Hn()))}break;case 13:lr(function(){var r=sn(t,1);if(r!==null){var i=Je();Lt(r,t,1,i)}}),dh(t,1)}};Mc=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Je();Lt(e,t,134217728,n)}dh(t,134217728)}};Gg=function(t){if(t.tag===13){var e=Rn(t),n=sn(t,e);if(n!==null){var r=Je();Lt(n,t,e,r)}dh(t,e)}};Kg=function(){return ne};Qg=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Ta=function(t,e,n){switch(e){case"input":if(_a(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Al(r);if(!i)throw Error(O(90));Ig(r),_a(r,i)}}}break;case"textarea":Ng(t,n);break;case"select":e=n.value,e!=null&&Lr(t,!!n.multiple,e,!1)}};Lg=uh;Mg=lr;var aE={usingClientEntryPoint:!1,Events:[Ms,kr,Al,Dg,Og,uh]},xi={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cE={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ug(t),t===null?null:t.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||lE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Nl=So.inject(cE),Bt=So}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aE;gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gh(e))throw Error(O(200));return oE(t,e,null,n)};gt.createRoot=function(t,e){if(!gh(t))throw Error(O(299));var n=!1,r="",i=m_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=fh(t,1,!1,null,null,n,!1,r,i),t[rn]=e.current,fs(t.nodeType===8?t.parentNode:t),new ph(e)};gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Ug(e),t=t===null?null:t.stateNode,t};gt.flushSync=function(t){return lr(t)};gt.hydrate=function(t,e,n){if(!Bl(e))throw Error(O(200));return Vl(null,t,e,!0,n)};gt.hydrateRoot=function(t,e,n){if(!gh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=m_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=g_(e,null,t,1,n??null,i,!1,s,l),t[rn]=e.current,fs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zl(e)};gt.render=function(t,e,n){if(!Bl(e))throw Error(O(200));return Vl(null,t,e,!1,n)};gt.unmountComponentAtNode=function(t){if(!Bl(t))throw Error(O(40));return t._reactRootContainer?(lr(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};gt.unstable_batchedUpdates=uh;gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bl(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Vl(t,e,n,!1,r)};gt.version="18.3.1-next-f1338f8080-20240426";function __(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(__)}catch(t){console.error(t)}}__(),_g.exports=gt;var hE=_g.exports,sp=hE;ca.createRoot=sp.createRoot,ca.hydrateRoot=sp.hydrateRoot;var op={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(t,e){if(!t)throw ii(e)},ii=function(t){return new Error("Firebase Database ("+v_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,_=s>>2,g=(s&3)<<4|u>>4;let m=(u&15)<<2|f>>6,P=f&63;c||(P=64,l||(m=64)),r.push(n[_],n[g],n[m],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||g==null)throw new dE;const m=s<<2|u>>4;if(r.push(m),f!==64){const P=u<<4&240|f>>2;if(r.push(P),g!==64){const R=f<<6&192|g;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w_=function(t){const e=y_(t);return mh.encodeByteArray(e,!0)},al=function(t){return w_(t).replace(/\./g,"")},rc=function(t){try{return mh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){return E_(void 0,t)}function E_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!gE(n)||(t[n]=E_(t[n],e[n]));return t}function gE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=()=>mE().__FIREBASE_DEFAULTS__,vE=()=>{if(typeof process>"u"||typeof op>"u")return;const t=op.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rc(t[1]);return e&&JSON.parse(e)},S_=()=>{try{return _E()||vE()||yE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wE=t=>{var e,n;return(n=(e=S_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},C_=t=>{const e=wE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T_=()=>{var t;return(t=S_())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[al(JSON.stringify(n)),al(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(EE())}function SE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CE(){return v_.NODE_ADMIN===!0}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kE,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N_.prototype.create)}}class N_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?NE(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new si(i,u,r)}}function NE(t,e){return t.replace(RE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return JSON.parse(t)}function ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Es(rc(s[0])||""),n=Es(rc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},PE=function(t){const e=R_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xE=function(t){const e=R_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ic(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(up(s)&&up(l)){if(!ic(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function up(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const m=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4],f,_;for(let g=0;g<80;g++){g<40?g<20?(f=u^s&(l^u),_=1518500249):(f=s^l^u,_=1859775393):g<60?(f=s&l|u&(s|l),_=2400959708):(f=s^l^u,_=3395469782);const m=(i<<5|i>>>27)+f+c+_+r[g]&4294967295;c=u,u=l,l=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let l=this.inbuf_;for(;i<n;){if(l===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[l]=e.charCodeAt(i),++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}else for(;i<n;)if(s[l]=e[i],++l,++i,l===this.blockSize){this.compress_(s),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function _h(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,L(r<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(r)-56320;i=65536+(s<<10)+l}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$l=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Hl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FE(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ME(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ME(t){return t===Qn?void 0:t}function FE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const UE={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},zE=te.INFO,BE={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},VE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=BE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vh{constructor(e){this.name=e,this._logLevel=zE,this._logHandler=VE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const HE=(t,e)=>e.some(n=>t instanceof n);let ap,cp;function $E(){return ap||(ap=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bE(){return cp||(cp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_=new WeakMap,sc=new WeakMap,x_=new WeakMap,Xu=new WeakMap,yh=new WeakMap;function WE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(xn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&P_.set(n,t)}).catch(()=>{}),yh.set(e,t),e}function GE(t){if(sc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});sc.set(t,e)}let oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KE(t){oc=t(oc)}function QE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ju(this),e,...n);return x_.set(r,e.sort?e.sort():[e]),xn(r)}:bE().includes(t)?function(...e){return t.apply(Ju(this),e),xn(P_.get(this))}:function(...e){return xn(t.apply(Ju(this),e))}}function YE(t){return typeof t=="function"?QE(t):(t instanceof IDBTransaction&&GE(t),HE(t,$E())?new Proxy(t,oc):t)}function xn(t){if(t instanceof IDBRequest)return WE(t);if(Xu.has(t))return Xu.get(t);const e=YE(t);return e!==t&&(Xu.set(t,e),yh.set(e,t)),e}const Ju=t=>yh.get(t);function qE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=xn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(xn(l.result),c.oldVersion,c.newVersion,xn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const XE=["get","getKey","getAll","getAllKeys","count"],JE=["put","add","delete","clear"],Zu=new Map;function hp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zu.get(e))return Zu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XE.includes(n)))return;const s=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return Zu.set(e,s),s}KE(t=>({...t,get:(e,n,r)=>hp(e,n)||t.get(e,n,r),has:(e,n)=>!!hp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lc="@firebase/app",fp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new vh("@firebase/app"),t1="@firebase/app-compat",n1="@firebase/analytics-compat",r1="@firebase/analytics",i1="@firebase/app-check-compat",s1="@firebase/app-check",o1="@firebase/auth",l1="@firebase/auth-compat",u1="@firebase/database",a1="@firebase/data-connect",c1="@firebase/database-compat",h1="@firebase/functions",f1="@firebase/functions-compat",d1="@firebase/installations",p1="@firebase/installations-compat",g1="@firebase/messaging",m1="@firebase/messaging-compat",_1="@firebase/performance",v1="@firebase/performance-compat",y1="@firebase/remote-config",w1="@firebase/remote-config-compat",E1="@firebase/storage",S1="@firebase/storage-compat",C1="@firebase/firestore",T1="@firebase/vertexai-preview",I1="@firebase/firestore-compat",k1="firebase",N1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc="[DEFAULT]",R1={[lc]:"fire-core",[t1]:"fire-core-compat",[r1]:"fire-analytics",[n1]:"fire-analytics-compat",[s1]:"fire-app-check",[i1]:"fire-app-check-compat",[o1]:"fire-auth",[l1]:"fire-auth-compat",[u1]:"fire-rtdb",[a1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[h1]:"fire-fn",[f1]:"fire-fn-compat",[d1]:"fire-iid",[p1]:"fire-iid-compat",[g1]:"fire-fcm",[m1]:"fire-fcm-compat",[_1]:"fire-perf",[v1]:"fire-perf-compat",[y1]:"fire-rc",[w1]:"fire-rc-compat",[E1]:"fire-gcs",[S1]:"fire-gcs-compat",[C1]:"fire-fst",[I1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new Map,P1=new Map,ac=new Map;function dp(t,e){try{t.container.addComponent(e)}catch(n){ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(ac.has(e))return ln.debug(`There were multiple attempts to register component ${e}.`),!1;ac.set(e,t);for(const n of hl.values())dp(n,t);for(const n of P1.values())dp(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new N_("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=N1;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=T_()),!n)throw An.create("no-options");const s=hl.get(i);if(s){if(ic(n,s.options)&&ic(r,s.config))return s;throw An.create("duplicate-app",{appName:i})}const l=new jE(i);for(const c of ac.values())l.addComponent(c);const u=new A1(n,r,l);return hl.set(i,u),u}function L_(t=uc){const e=hl.get(t);if(!e&&t===uc&&T_())return O_();if(!e)throw An.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let i=(r=R1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ln.warn(u.join(" "));return}Ss(new qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebase-heartbeat-database",O1=1,Cs="firebase-heartbeat-store";let ea=null;function M_(){return ea||(ea=qE(D1,O1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cs)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),ea}async function L1(t){try{const n=(await M_()).transaction(Cs),r=await n.objectStore(Cs).get(F_(t));return await n.done,r}catch(e){if(e instanceof si)ln.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ln.warn(n.message)}}}async function pp(t,e){try{const r=(await M_()).transaction(Cs,"readwrite");await r.objectStore(Cs).put(e,F_(t)),await r.done}catch(n){if(n instanceof si)ln.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ln.warn(r.message)}}}function F_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=1024,F1=30*24*60*60*1e3;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=F1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ln.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gp(),{heartbeatsToSend:r,unsentEntries:i}=U1(this._heartbeatsCache.heartbeats),s=al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ln.warn(n),""}}}function gp(){return new Date().toISOString().substring(0,10)}function U1(t,e=M1){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),mp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mp(t){return al(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){Ss(new qr("platform-logger",e=>new ZE(e),"PRIVATE")),Ss(new qr("heartbeat",e=>new j1(e),"PRIVATE")),Dn(lc,fp,t),Dn(lc,fp,"esm2017"),Dn("fire-js","")}B1("");var V1="firebase",H1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(V1,H1,"app");var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,p){function y(){}y.prototype=p.prototype,w.D=p.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(E,T,C){for(var v=Array(arguments.length-2),W=2;W<arguments.length;W++)v[W-2]=arguments[W];return p.prototype[T].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,p,y){y||(y=0);var E=Array(16);if(typeof p=="string")for(var T=0;16>T;++T)E[T]=p.charCodeAt(y++)|p.charCodeAt(y++)<<8|p.charCodeAt(y++)<<16|p.charCodeAt(y++)<<24;else for(T=0;16>T;++T)E[T]=p[y++]|p[y++]<<8|p[y++]<<16|p[y++]<<24;p=w.g[0],y=w.g[1],T=w.g[2];var C=w.g[3],v=p+(C^y&(T^C))+E[0]+3614090360&4294967295;p=y+(v<<7&4294967295|v>>>25),v=C+(T^p&(y^T))+E[1]+3905402710&4294967295,C=p+(v<<12&4294967295|v>>>20),v=T+(y^C&(p^y))+E[2]+606105819&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(p^T&(C^p))+E[3]+3250441966&4294967295,y=T+(v<<22&4294967295|v>>>10),v=p+(C^y&(T^C))+E[4]+4118548399&4294967295,p=y+(v<<7&4294967295|v>>>25),v=C+(T^p&(y^T))+E[5]+1200080426&4294967295,C=p+(v<<12&4294967295|v>>>20),v=T+(y^C&(p^y))+E[6]+2821735955&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(p^T&(C^p))+E[7]+4249261313&4294967295,y=T+(v<<22&4294967295|v>>>10),v=p+(C^y&(T^C))+E[8]+1770035416&4294967295,p=y+(v<<7&4294967295|v>>>25),v=C+(T^p&(y^T))+E[9]+2336552879&4294967295,C=p+(v<<12&4294967295|v>>>20),v=T+(y^C&(p^y))+E[10]+4294925233&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(p^T&(C^p))+E[11]+2304563134&4294967295,y=T+(v<<22&4294967295|v>>>10),v=p+(C^y&(T^C))+E[12]+1804603682&4294967295,p=y+(v<<7&4294967295|v>>>25),v=C+(T^p&(y^T))+E[13]+4254626195&4294967295,C=p+(v<<12&4294967295|v>>>20),v=T+(y^C&(p^y))+E[14]+2792965006&4294967295,T=C+(v<<17&4294967295|v>>>15),v=y+(p^T&(C^p))+E[15]+1236535329&4294967295,y=T+(v<<22&4294967295|v>>>10),v=p+(T^C&(y^T))+E[1]+4129170786&4294967295,p=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(p^y))+E[6]+3225465664&4294967295,C=p+(v<<9&4294967295|v>>>23),v=T+(p^y&(C^p))+E[11]+643717713&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^p&(T^C))+E[0]+3921069994&4294967295,y=T+(v<<20&4294967295|v>>>12),v=p+(T^C&(y^T))+E[5]+3593408605&4294967295,p=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(p^y))+E[10]+38016083&4294967295,C=p+(v<<9&4294967295|v>>>23),v=T+(p^y&(C^p))+E[15]+3634488961&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^p&(T^C))+E[4]+3889429448&4294967295,y=T+(v<<20&4294967295|v>>>12),v=p+(T^C&(y^T))+E[9]+568446438&4294967295,p=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(p^y))+E[14]+3275163606&4294967295,C=p+(v<<9&4294967295|v>>>23),v=T+(p^y&(C^p))+E[3]+4107603335&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^p&(T^C))+E[8]+1163531501&4294967295,y=T+(v<<20&4294967295|v>>>12),v=p+(T^C&(y^T))+E[13]+2850285829&4294967295,p=y+(v<<5&4294967295|v>>>27),v=C+(y^T&(p^y))+E[2]+4243563512&4294967295,C=p+(v<<9&4294967295|v>>>23),v=T+(p^y&(C^p))+E[7]+1735328473&4294967295,T=C+(v<<14&4294967295|v>>>18),v=y+(C^p&(T^C))+E[12]+2368359562&4294967295,y=T+(v<<20&4294967295|v>>>12),v=p+(y^T^C)+E[5]+4294588738&4294967295,p=y+(v<<4&4294967295|v>>>28),v=C+(p^y^T)+E[8]+2272392833&4294967295,C=p+(v<<11&4294967295|v>>>21),v=T+(C^p^y)+E[11]+1839030562&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^p)+E[14]+4259657740&4294967295,y=T+(v<<23&4294967295|v>>>9),v=p+(y^T^C)+E[1]+2763975236&4294967295,p=y+(v<<4&4294967295|v>>>28),v=C+(p^y^T)+E[4]+1272893353&4294967295,C=p+(v<<11&4294967295|v>>>21),v=T+(C^p^y)+E[7]+4139469664&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^p)+E[10]+3200236656&4294967295,y=T+(v<<23&4294967295|v>>>9),v=p+(y^T^C)+E[13]+681279174&4294967295,p=y+(v<<4&4294967295|v>>>28),v=C+(p^y^T)+E[0]+3936430074&4294967295,C=p+(v<<11&4294967295|v>>>21),v=T+(C^p^y)+E[3]+3572445317&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^p)+E[6]+76029189&4294967295,y=T+(v<<23&4294967295|v>>>9),v=p+(y^T^C)+E[9]+3654602809&4294967295,p=y+(v<<4&4294967295|v>>>28),v=C+(p^y^T)+E[12]+3873151461&4294967295,C=p+(v<<11&4294967295|v>>>21),v=T+(C^p^y)+E[15]+530742520&4294967295,T=C+(v<<16&4294967295|v>>>16),v=y+(T^C^p)+E[2]+3299628645&4294967295,y=T+(v<<23&4294967295|v>>>9),v=p+(T^(y|~C))+E[0]+4096336452&4294967295,p=y+(v<<6&4294967295|v>>>26),v=C+(y^(p|~T))+E[7]+1126891415&4294967295,C=p+(v<<10&4294967295|v>>>22),v=T+(p^(C|~y))+E[14]+2878612391&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~p))+E[5]+4237533241&4294967295,y=T+(v<<21&4294967295|v>>>11),v=p+(T^(y|~C))+E[12]+1700485571&4294967295,p=y+(v<<6&4294967295|v>>>26),v=C+(y^(p|~T))+E[3]+2399980690&4294967295,C=p+(v<<10&4294967295|v>>>22),v=T+(p^(C|~y))+E[10]+4293915773&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~p))+E[1]+2240044497&4294967295,y=T+(v<<21&4294967295|v>>>11),v=p+(T^(y|~C))+E[8]+1873313359&4294967295,p=y+(v<<6&4294967295|v>>>26),v=C+(y^(p|~T))+E[15]+4264355552&4294967295,C=p+(v<<10&4294967295|v>>>22),v=T+(p^(C|~y))+E[6]+2734768916&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~p))+E[13]+1309151649&4294967295,y=T+(v<<21&4294967295|v>>>11),v=p+(T^(y|~C))+E[4]+4149444226&4294967295,p=y+(v<<6&4294967295|v>>>26),v=C+(y^(p|~T))+E[11]+3174756917&4294967295,C=p+(v<<10&4294967295|v>>>22),v=T+(p^(C|~y))+E[2]+718787259&4294967295,T=C+(v<<15&4294967295|v>>>17),v=y+(C^(T|~p))+E[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(T+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var y=p-this.blockSize,E=this.B,T=this.h,C=0;C<p;){if(T==0)for(;C<=y;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<p;)if(E[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,E),T=0;break}}else for(;C<p;)if(E[T++]=w[C++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=p},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var y=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=y&255,y/=256;for(this.u(w),w=Array(16),p=y=0;4>p;++p)for(var E=0;32>E;E+=8)w[y++]=this.g[p]>>>E&255;return w};function s(w,p){var y=u;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=p(w)}function l(w,p){this.h=p;for(var y=[],E=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;E&&C==p||(y[T]=C,E=!1)}this.g=y}var u={};function c(w){return-128<=w&&128>w?s(w,function(p){return new l([p|0],0>p?-1:0)}):new l([w|0],0>w?-1:0)}function f(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return B(f(-w));for(var p=[],y=1,E=0;w>=y;E++)p[E]=w/y|0,y*=4294967296;return new l(p,0)}function _(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return B(_(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=f(Math.pow(p,8)),E=g,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),v=parseInt(w.substring(T,T+C),p);8>C?(C=f(Math.pow(p,C)),E=E.j(C).add(f(v))):(E=E.j(y),E=E.add(f(v)))}return E}var g=c(0),m=c(1),P=c(16777216);t=l.prototype,t.m=function(){if(A(this))return-B(this).m();for(var w=0,p=1,y=0;y<this.g.length;y++){var E=this.i(y);w+=(0<=E?E:4294967296+E)*p,p*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R(this))return"0";if(A(this))return"-"+B(this).toString(w);for(var p=f(Math.pow(w,6)),y=this,E="";;){var T=D(y,p).g;y=I(y,T.j(p));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=T,R(y))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function R(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=I(this,w),A(w)?-1:R(w)?0:1};function B(w){for(var p=w.g.length,y=[],E=0;E<p;E++)y[E]=~w.g[E];return new l(y,~w.h).add(m)}t.abs=function(){return A(this)?B(this):this},t.add=function(w){for(var p=Math.max(this.g.length,w.g.length),y=[],E=0,T=0;T<=p;T++){var C=E+(this.i(T)&65535)+(w.i(T)&65535),v=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);E=v>>>16,C&=65535,v&=65535,y[T]=v<<16|C}return new l(y,y[y.length-1]&-2147483648?-1:0)};function I(w,p){return w.add(B(p))}t.j=function(w){if(R(this)||R(w))return g;if(A(this))return A(w)?B(this).j(B(w)):B(B(this).j(w));if(A(w))return B(this.j(B(w)));if(0>this.l(P)&&0>w.l(P))return f(this.m()*w.m());for(var p=this.g.length+w.g.length,y=[],E=0;E<2*p;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<w.g.length;T++){var C=this.i(E)>>>16,v=this.i(E)&65535,W=w.i(T)>>>16,oe=w.i(T)&65535;y[2*E+2*T]+=v*oe,S(y,2*E+2*T),y[2*E+2*T+1]+=C*oe,S(y,2*E+2*T+1),y[2*E+2*T+1]+=v*W,S(y,2*E+2*T+1),y[2*E+2*T+2]+=C*W,S(y,2*E+2*T+2)}for(E=0;E<p;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=p;E<2*p;E++)y[E]=0;return new l(y,0)};function S(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function k(w,p){this.g=w,this.h=p}function D(w,p){if(R(p))throw Error("division by zero");if(R(w))return new k(g,g);if(A(w))return p=D(B(w),p),new k(B(p.g),B(p.h));if(A(p))return p=D(w,B(p)),new k(B(p.g),p.h);if(30<w.g.length){if(A(w)||A(p))throw Error("slowDivide_ only works with positive integers.");for(var y=m,E=p;0>=E.l(w);)y=j(y),E=j(E);var T=U(y,1),C=U(E,1);for(E=U(E,2),y=U(y,2);!R(E);){var v=C.add(E);0>=v.l(w)&&(T=T.add(y),C=v),E=U(E,1),y=U(y,1)}return p=I(w,T.j(p)),new k(T,p)}for(T=g;0<=w.l(p);){for(y=Math.max(1,Math.floor(w.m()/p.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=f(y),v=C.j(p);A(v)||0<v.l(w);)y-=E,C=f(y),v=C.j(p);R(C)&&(C=m),T=T.add(C),w=I(w,v)}return new k(T,w)}t.A=function(w){return D(this,w).h},t.and=function(w){for(var p=Math.max(this.g.length,w.g.length),y=[],E=0;E<p;E++)y[E]=this.i(E)&w.i(E);return new l(y,this.h&w.h)},t.or=function(w){for(var p=Math.max(this.g.length,w.g.length),y=[],E=0;E<p;E++)y[E]=this.i(E)|w.i(E);return new l(y,this.h|w.h)},t.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),y=[],E=0;E<p;E++)y[E]=this.i(E)^w.i(E);return new l(y,this.h^w.h)};function j(w){for(var p=w.g.length+1,y=[],E=0;E<p;E++)y[E]=w.i(E)<<1|w.i(E-1)>>>31;return new l(y,w.h)}function U(w,p){var y=p>>5;p%=32;for(var E=w.g.length-y,T=[],C=0;C<E;C++)T[C]=0<p?w.i(C+y)>>>p|w.i(C+y+1)<<32-p:w.i(C+y);return new l(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=_,j_=l}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});var Co=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,a,h){return o==Array.prototype||o==Object.prototype||(o[a]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Co=="object"&&Co];for(var a=0;a<o.length;++a){var h=o[a];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(o,a){if(a)e:{var h=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var N=o[d];if(!(N in h))break e;h=h[N]}o=o[o.length-1],d=h[o],a=a(d),a!=d&&a!=null&&e(h,o,{configurable:!0,writable:!0,value:a})}}function s(o,a){o instanceof String&&(o+="");var h=0,d=!1,N={next:function(){if(!d&&h<o.length){var x=h++;return{value:a(x,o[x]),done:!1}}return d=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(o){return o||function(){return s(this,function(a,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(o){var a=typeof o;return a=a!="object"?a:o?Array.isArray(o)?"array":a:"null",a=="array"||a=="object"&&typeof o.length=="number"}function f(o){var a=typeof o;return a=="object"&&o!=null||a=="function"}function _(o,a,h){return o.call.apply(o.bind,arguments)}function g(o,a,h){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,d),o.apply(a,N)}}return function(){return o.apply(a,arguments)}}function m(o,a,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:g,m.apply(null,arguments)}function P(o,a){var h=Array.prototype.slice.call(arguments,1);return function(){var d=h.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function R(o,a){function h(){}h.prototype=a.prototype,o.aa=a.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(d,N,x){for(var M=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)M[ie-2]=arguments[ie];return a.prototype[N].apply(d,M)}}function A(o){const a=o.length;if(0<a){const h=Array(a);for(let d=0;d<a;d++)h[d]=o[d];return h}return[]}function B(o,a){for(let h=1;h<arguments.length;h++){const d=arguments[h];if(c(d)){const N=o.length||0,x=d.length||0;o.length=N+x;for(let M=0;M<x;M++)o[N+M]=d[M]}else o.push(d)}}class I{constructor(a,h){this.i=a,this.j=h,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function S(o){return/^[\s\xa0]*$/.test(o)}function k(){var o=u.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var j=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function U(o,a,h){for(const d in o)a.call(h,o[d],d,o)}function w(o,a){for(const h in o)a.call(void 0,o[h],h,o)}function p(o){const a={};for(const h in o)a[h]=o[h];return a}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(o,a){let h,d;for(let N=1;N<arguments.length;N++){d=arguments[N];for(h in d)o[h]=d[h];for(let x=0;x<y.length;x++)h=y[x],Object.prototype.hasOwnProperty.call(d,h)&&(o[h]=d[h])}}function T(o){var a=1;o=o.split(":");const h=[];for(;0<a&&o.length;)h.push(o.shift()),a--;return o.length&&h.push(o.join(":")),h}function C(o){u.setTimeout(()=>{throw o},0)}function v(){var o=H;let a=null;return o.g&&(a=o.g,o.g=o.g.next,o.g||(o.h=null),a.next=null),a}class W{constructor(){this.h=this.g=null}add(a,h){const d=oe.get();d.set(a,h),this.h?this.h.next=d:this.g=d,this.h=d}}var oe=new I(()=>new Ge,o=>o.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(a,h){this.h=a,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,F=!1,H=new W,$=()=>{const o=u.Promise.resolve(void 0);ae=()=>{o.then(ee)}};var ee=()=>{for(var o;o=v();){try{o.h.call(o.g)}catch(h){C(h)}var a=oe;a.j(o),100>a.h&&(a.h++,o.next=a.g,a.g=o)}F=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(o,a){this.type=o,this.g=this.target=a,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var o=!1,a=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};u.addEventListener("test",h,a),u.removeEventListener("test",h,a)}catch{}return o}();function bt(o,a){if(we.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=a,a=o.relatedTarget){if(j){e:{try{D(a.nodeName);var N=!0;break e}catch{}N=!1}N||(a=null)}}else h=="mouseover"?a=o.fromElement:h=="mouseout"&&(a=o.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Wt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}R(bt,we);var Wt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),sy=0;function oy(o,a,h,d,N){this.listener=o,this.proxy=null,this.src=a,this.type=h,this.capture=!!d,this.ha=N,this.key=++sy,this.da=this.fa=!1}function bs(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ws(o){this.src=o,this.g={},this.h=0}Ws.prototype.add=function(o,a,h,d,N){var x=o.toString();o=this.g[x],o||(o=this.g[x]=[],this.h++);var M=tu(o,a,d,N);return-1<M?(a=o[M],h||(a.fa=!1)):(a=new oy(a,this.src,x,!!d,N),a.fa=h,o.push(a)),a};function eu(o,a){var h=a.type;if(h in o.g){var d=o.g[h],N=Array.prototype.indexOf.call(d,a,void 0),x;(x=0<=N)&&Array.prototype.splice.call(d,N,1),x&&(bs(a),o.g[h].length==0&&(delete o.g[h],o.h--))}}function tu(o,a,h,d){for(var N=0;N<o.length;++N){var x=o[N];if(!x.da&&x.listener==a&&x.capture==!!h&&x.ha==d)return N}return-1}var nu="closure_lm_"+(1e6*Math.random()|0),ru={};function Zh(o,a,h,d,N){if(Array.isArray(a)){for(var x=0;x<a.length;x++)Zh(o,a[x],h,d,N);return null}return h=nf(h),o&&o[Gt]?o.K(a,h,f(d)?!!d.capture:!1,N):ly(o,a,h,!1,d,N)}function ly(o,a,h,d,N,x){if(!a)throw Error("Invalid event type");var M=f(N)?!!N.capture:!!N,ie=su(o);if(ie||(o[nu]=ie=new Ws(o)),h=ie.add(a,h,d,M,x),h.proxy)return h;if(d=uy(),h.proxy=d,d.src=o,d.listener=h,o.addEventListener)$t||(N=M),N===void 0&&(N=!1),o.addEventListener(a.toString(),d,N);else if(o.attachEvent)o.attachEvent(tf(a.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return h}function uy(){function o(h){return a.call(o.src,o.listener,h)}const a=ay;return o}function ef(o,a,h,d,N){if(Array.isArray(a))for(var x=0;x<a.length;x++)ef(o,a[x],h,d,N);else d=f(d)?!!d.capture:!!d,h=nf(h),o&&o[Gt]?(o=o.i,a=String(a).toString(),a in o.g&&(x=o.g[a],h=tu(x,h,d,N),-1<h&&(bs(x[h]),Array.prototype.splice.call(x,h,1),x.length==0&&(delete o.g[a],o.h--)))):o&&(o=su(o))&&(a=o.g[a.toString()],o=-1,a&&(o=tu(a,h,d,N)),(h=-1<o?a[o]:null)&&iu(h))}function iu(o){if(typeof o!="number"&&o&&!o.da){var a=o.src;if(a&&a[Gt])eu(a.i,o);else{var h=o.type,d=o.proxy;a.removeEventListener?a.removeEventListener(h,d,o.capture):a.detachEvent?a.detachEvent(tf(h),d):a.addListener&&a.removeListener&&a.removeListener(d),(h=su(a))?(eu(h,o),h.h==0&&(h.src=null,a[nu]=null)):bs(o)}}}function tf(o){return o in ru?ru[o]:ru[o]="on"+o}function ay(o,a){if(o.da)o=!0;else{a=new bt(a,this);var h=o.listener,d=o.ha||o.src;o.fa&&iu(o),o=h.call(d,a)}return o}function su(o){return o=o[nu],o instanceof Ws?o:null}var ou="__closure_events_fn_"+(1e9*Math.random()>>>0);function nf(o){return typeof o=="function"?o:(o[ou]||(o[ou]=function(a){return o.handleEvent(a)}),o[ou])}function Ue(){re.call(this),this.i=new Ws(this),this.M=this,this.F=null}R(Ue,re),Ue.prototype[Gt]=!0,Ue.prototype.removeEventListener=function(o,a,h,d){ef(this,o,a,h,d)};function Ke(o,a){var h,d=o.F;if(d)for(h=[];d;d=d.F)h.push(d);if(o=o.M,d=a.type||a,typeof a=="string")a=new we(a,o);else if(a instanceof we)a.target=a.target||o;else{var N=a;a=new we(d,o),E(a,N)}if(N=!0,h)for(var x=h.length-1;0<=x;x--){var M=a.g=h[x];N=Gs(M,d,!0,a)&&N}if(M=a.g=o,N=Gs(M,d,!0,a)&&N,N=Gs(M,d,!1,a)&&N,h)for(x=0;x<h.length;x++)M=a.g=h[x],N=Gs(M,d,!1,a)&&N}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var o=this.i,a;for(a in o.g){for(var h=o.g[a],d=0;d<h.length;d++)bs(h[d]);delete o.g[a],o.h--}}this.F=null},Ue.prototype.K=function(o,a,h,d){return this.i.add(String(o),a,!1,h,d)},Ue.prototype.L=function(o,a,h,d){return this.i.add(String(o),a,!0,h,d)};function Gs(o,a,h,d){if(a=o.i.g[String(a)],!a)return!0;a=a.concat();for(var N=!0,x=0;x<a.length;++x){var M=a[x];if(M&&!M.da&&M.capture==h){var ie=M.listener,Le=M.ha||M.src;M.fa&&eu(o.i,M),N=ie.call(Le,d)!==!1&&N}}return N&&!d.defaultPrevented}function rf(o,a,h){if(typeof o=="function")h&&(o=m(o,h));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:u.setTimeout(o,a||0)}function sf(o){o.g=rf(()=>{o.g=null,o.i&&(o.i=!1,sf(o))},o.l);const a=o.h;o.h=null,o.m.apply(null,a)}class cy extends re{constructor(a,h){super(),this.m=a,this.l=h,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:sf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(o){re.call(this),this.h=o,this.g={}}R(ci,re);var of=[];function lf(o){U(o.g,function(a,h){this.g.hasOwnProperty(h)&&iu(a)},o),o.g={}}ci.prototype.N=function(){ci.aa.N.call(this),lf(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lu=u.JSON.stringify,hy=u.JSON.parse,fy=class{stringify(o){return u.JSON.stringify(o,void 0)}parse(o){return u.JSON.parse(o,void 0)}};function uu(){}uu.prototype.h=null;function uf(o){return o.h||(o.h=o.i())}function dy(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function au(){we.call(this,"d")}R(au,we);function cu(){we.call(this,"c")}R(cu,we);var pr={},af=null;function hu(){return af=af||new Ue}pr.La="serverreachability";function cf(o){we.call(this,pr.La,o)}R(cf,we);function fi(o){const a=hu();Ke(a,new cf(a))}pr.STAT_EVENT="statevent";function hf(o,a){we.call(this,pr.STAT_EVENT,o),this.stat=a}R(hf,we);function Qe(o){const a=hu();Ke(a,new hf(a,o))}pr.Ma="timingevent";function ff(o,a){we.call(this,pr.Ma,o),this.size=a}R(ff,we);function di(o,a){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){o()},a)}function pi(){this.g=!0}pi.prototype.xa=function(){this.g=!1};function py(o,a,h,d,N,x){o.info(function(){if(o.g)if(x)for(var M="",ie=x.split("&"),Le=0;Le<ie.length;Le++){var J=ie[Le].split("=");if(1<J.length){var ze=J[0];J=J[1];var Be=ze.split("_");M=2<=Be.length&&Be[1]=="type"?M+(ze+"="+J+"&"):M+(ze+"=redacted&")}}else M=null;else M=x;return"XMLHTTP REQ ("+d+") [attempt "+N+"]: "+a+`
`+h+`
`+M})}function gy(o,a,h,d,N,x,M){o.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+N+"]: "+a+`
`+h+`
`+x+" "+M})}function gr(o,a,h,d){o.info(function(){return"XMLHTTP TEXT ("+a+"): "+_y(o,h)+(d?" "+d:"")})}function my(o,a){o.info(function(){return"TIMEOUT: "+a})}pi.prototype.info=function(){};function _y(o,a){if(!o.g)return a;if(!a)return null;try{var h=JSON.parse(a);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var d=h[o];if(!(2>d.length)){var N=d[1];if(Array.isArray(N)&&!(1>N.length)){var x=N[0];if(x!="noop"&&x!="stop"&&x!="close")for(var M=1;M<N.length;M++)N[M]=""}}}}return lu(h)}catch{return a}}var fu={NO_ERROR:0,TIMEOUT:8},vy={},du;function Ks(){}R(Ks,uu),Ks.prototype.g=function(){return new XMLHttpRequest},Ks.prototype.i=function(){return{}},du=new Ks;function fn(o,a,h,d){this.j=o,this.i=a,this.l=h,this.R=d||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new df}function df(){this.i=null,this.g="",this.h=!1}var pf={},pu={};function gu(o,a,h){o.L=1,o.v=Xs(Kt(a)),o.m=h,o.P=!0,gf(o,null)}function gf(o,a){o.F=Date.now(),Qs(o),o.A=Kt(o.v);var h=o.A,d=o.R;Array.isArray(d)||(d=[String(d)]),Pf(h.i,"t",d),o.C=0,h=o.j.J,o.h=new df,o.g=Kf(o.j,h?a:null,!o.m),0<o.O&&(o.M=new cy(m(o.Y,o,o.g),o.O)),a=o.U,h=o.g,d=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(of[0]=N.toString()),N=of);for(var x=0;x<N.length;x++){var M=Zh(h,N[x],d||a.handleEvent,!1,a.h||a);if(!M)break;a.g[M.key]=M}a=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,a)):(o.u="GET",o.g.ea(o.A,o.u,null,a)),fi(),py(o.i,o.u,o.A,o.l,o.R,o.m)}fn.prototype.ca=function(o){o=o.target;const a=this.M;a&&Qt(o)==3?a.j():this.Y(o)},fn.prototype.Y=function(o){try{if(o==this.g)e:{const Be=Qt(this.g);var a=this.g.Ba();const vr=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Ff(this.g)))){this.J||Be!=4||a==7||(a==8||0>=vr?fi(3):fi(2)),mu(this);var h=this.g.Z();this.X=h;t:if(mf(this)){var d=Ff(this.g);o="";var N=d.length,x=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),gi(this);var M="";break t}this.h.i=new u.TextDecoder}for(a=0;a<N;a++)this.h.h=!0,o+=this.h.i.decode(d[a],{stream:!(x&&a==N-1)});d.length=0,this.h.g+=o,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,gy(this.i,this.u,this.A,this.l,this.R,Be,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,Le=this.g;if((ie=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(ie)){var J=ie;break t}}J=null}if(h=J)gr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_u(this,h);else{this.o=!1,this.s=3,Qe(12),$n(this),gi(this);break e}}if(this.P){h=!0;let Tt;for(;!this.J&&this.C<M.length;)if(Tt=yy(this,M),Tt==pu){Be==4&&(this.s=4,Qe(14),h=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==pf){this.s=4,Qe(15),gr(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else gr(this.i,this.l,Tt,null),_u(this,Tt);if(mf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||M.length!=0||this.h.h||(this.s=1,Qe(16),h=!1),this.o=this.o&&h,!h)gr(this.i,this.l,M,"[Invalid Chunked Response]"),$n(this),gi(this);else if(0<M.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Cu(ze),ze.M=!0,Qe(11))}}else gr(this.i,this.l,M,null),_u(this,M);Be==4&&$n(this),this.o&&!this.J&&(Be==4?$f(this.j,this):(this.o=!1,Qs(this)))}else Fy(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),$n(this),gi(this)}}}catch{}finally{}};function mf(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function yy(o,a){var h=o.C,d=a.indexOf(`
`,h);return d==-1?pu:(h=Number(a.substring(h,d)),isNaN(h)?pf:(d+=1,d+h>a.length?pu:(a=a.slice(d,d+h),o.C=d+h,a)))}fn.prototype.cancel=function(){this.J=!0,$n(this)};function Qs(o){o.S=Date.now()+o.I,_f(o,o.I)}function _f(o,a){if(o.B!=null)throw Error("WatchDog timer not null");o.B=di(m(o.ba,o),a)}function mu(o){o.B&&(u.clearTimeout(o.B),o.B=null)}fn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(my(this.i,this.A),this.L!=2&&(fi(),Qe(17)),$n(this),this.s=2,gi(this)):_f(this,this.S-o)};function gi(o){o.j.G==0||o.J||$f(o.j,o)}function $n(o){mu(o);var a=o.M;a&&typeof a.ma=="function"&&a.ma(),o.M=null,lf(o.U),o.g&&(a=o.g,o.g=null,a.abort(),a.ma())}function _u(o,a){try{var h=o.j;if(h.G!=0&&(h.g==o||vu(h.h,o))){if(!o.K&&vu(h.h,o)&&h.G==3){try{var d=h.Da.g.parse(a)}catch{d=null}if(Array.isArray(d)&&d.length==3){var N=d;if(N[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)ro(h),to(h);else break e;Su(h),Qe(18)}}else h.za=N[1],0<h.za-h.T&&37500>N[2]&&h.F&&h.v==0&&!h.C&&(h.C=di(m(h.Za,h),6e3));if(1>=wf(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Wn(h,11)}else if((o.K||h.g==o)&&ro(h),!S(a))for(N=h.Da.g.parse(a),a=0;a<N.length;a++){let J=N[a];if(h.T=J[0],J=J[1],h.G==2)if(J[0]=="c"){h.K=J[1],h.ia=J[2];const ze=J[3];ze!=null&&(h.la=ze,h.j.info("VER="+h.la));const Be=J[4];Be!=null&&(h.Aa=Be,h.j.info("SVER="+h.Aa));const vr=J[5];vr!=null&&typeof vr=="number"&&0<vr&&(d=1.5*vr,h.L=d,h.j.info("backChannelRequestTimeoutMs_="+d)),d=h;const Tt=o.g;if(Tt){const io=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var x=d.h;x.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(yu(x,x.h),x.h=null))}if(d.D){const Tu=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tu&&(d.ya=Tu,ce(d.I,d.D,Tu))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),d=h;var M=o;if(d.qa=Gf(d,d.J?d.ia:null,d.W),M.K){Ef(d.h,M);var ie=M,Le=d.L;Le&&(ie.I=Le),ie.B&&(mu(ie),Qs(ie)),d.g=M}else Vf(d);0<h.i.length&&no(h)}else J[0]!="stop"&&J[0]!="close"||Wn(h,7);else h.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?Wn(h,7):Eu(h):J[0]!="noop"&&h.l&&h.l.ta(J),h.v=0)}}fi(4)}catch{}}var wy=class{constructor(o,a){this.g=o,this.map=a}};function vf(o){this.l=o||10,u.PerformanceNavigationTiming?(o=u.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yf(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wf(o){return o.h?1:o.g?o.g.size:0}function vu(o,a){return o.h?o.h==a:o.g?o.g.has(a):!1}function yu(o,a){o.g?o.g.add(a):o.h=a}function Ef(o,a){o.h&&o.h==a?o.h=null:o.g&&o.g.has(a)&&o.g.delete(a)}vf.prototype.cancel=function(){if(this.i=Sf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Sf(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let a=o.i;for(const h of o.g.values())a=a.concat(h.D);return a}return A(o.i)}function Ey(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var a=[],h=o.length,d=0;d<h;d++)a.push(o[d]);return a}a=[],h=0;for(d in o)a[h++]=o[d];return a}function Sy(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var a=[];o=o.length;for(var h=0;h<o;h++)a.push(h);return a}a=[],h=0;for(const d in o)a[h++]=d;return a}}}function Cf(o,a){if(o.forEach&&typeof o.forEach=="function")o.forEach(a,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,a,void 0);else for(var h=Sy(o),d=Ey(o),N=d.length,x=0;x<N;x++)a.call(void 0,d[x],h&&h[x],o)}var Tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cy(o,a){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var d=o[h].indexOf("="),N=null;if(0<=d){var x=o[h].substring(0,d);N=o[h].substring(d+1)}else x=o[h];a(x,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function bn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof bn){this.h=o.h,Ys(this,o.j),this.o=o.o,this.g=o.g,qs(this,o.s),this.l=o.l;var a=o.i,h=new vi;h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),If(this,h),this.m=o.m}else o&&(a=String(o).match(Tf))?(this.h=!1,Ys(this,a[1]||"",!0),this.o=mi(a[2]||""),this.g=mi(a[3]||"",!0),qs(this,a[4]),this.l=mi(a[5]||"",!0),If(this,a[6]||"",!0),this.m=mi(a[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}bn.prototype.toString=function(){var o=[],a=this.j;a&&o.push(_i(a,kf,!0),":");var h=this.g;return(h||a=="file")&&(o.push("//"),(a=this.o)&&o.push(_i(a,kf,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(_i(h,h.charAt(0)=="/"?ky:Iy,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",_i(h,Ry)),o.join("")};function Kt(o){return new bn(o)}function Ys(o,a,h){o.j=h?mi(a,!0):a,o.j&&(o.j=o.j.replace(/:$/,""))}function qs(o,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);o.s=a}else o.s=null}function If(o,a,h){a instanceof vi?(o.i=a,Py(o.i,o.h)):(h||(a=_i(a,Ny)),o.i=new vi(a,o.h))}function ce(o,a,h){o.i.set(a,h)}function Xs(o){return ce(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function mi(o,a){return o?a?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function _i(o,a,h){return typeof o=="string"?(o=encodeURI(o).replace(a,Ty),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ty(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var kf=/[#\/\?@]/g,Iy=/[#\?:]/g,ky=/[#\?]/g,Ny=/[#\?@]/g,Ry=/#/g;function vi(o,a){this.h=this.g=null,this.i=o||null,this.j=!!a}function dn(o){o.g||(o.g=new Map,o.h=0,o.i&&Cy(o.i,function(a,h){o.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}t=vi.prototype,t.add=function(o,a){dn(this),this.i=null,o=mr(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(a),this.h+=1,this};function Nf(o,a){dn(o),a=mr(o,a),o.g.has(a)&&(o.i=null,o.h-=o.g.get(a).length,o.g.delete(a))}function Rf(o,a){return dn(o),a=mr(o,a),o.g.has(a)}t.forEach=function(o,a){dn(this),this.g.forEach(function(h,d){h.forEach(function(N){o.call(a,N,d,this)},this)},this)},t.na=function(){dn(this);const o=Array.from(this.g.values()),a=Array.from(this.g.keys()),h=[];for(let d=0;d<a.length;d++){const N=o[d];for(let x=0;x<N.length;x++)h.push(a[d])}return h},t.V=function(o){dn(this);let a=[];if(typeof o=="string")Rf(this,o)&&(a=a.concat(this.g.get(mr(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)a=a.concat(o[h])}return a},t.set=function(o,a){return dn(this),this.i=null,o=mr(this,o),Rf(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[a]),this.h+=1,this},t.get=function(o,a){return o?(o=this.V(o),0<o.length?String(o[0]):a):a};function Pf(o,a,h){Nf(o,a),0<h.length&&(o.i=null,o.g.set(mr(o,a),A(h)),o.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],a=Array.from(this.g.keys());for(var h=0;h<a.length;h++){var d=a[h];const x=encodeURIComponent(String(d)),M=this.V(d);for(d=0;d<M.length;d++){var N=x;M[d]!==""&&(N+="="+encodeURIComponent(String(M[d]))),o.push(N)}}return this.i=o.join("&")};function mr(o,a){return a=String(a),o.j&&(a=a.toLowerCase()),a}function Py(o,a){a&&!o.j&&(dn(o),o.i=null,o.g.forEach(function(h,d){var N=d.toLowerCase();d!=N&&(Nf(this,d),Pf(this,N,h))},o)),o.j=a}function xy(o,a){const h=new pi;if(u.Image){const d=new Image;d.onload=P(pn,h,"TestLoadImage: loaded",!0,a,d),d.onerror=P(pn,h,"TestLoadImage: error",!1,a,d),d.onabort=P(pn,h,"TestLoadImage: abort",!1,a,d),d.ontimeout=P(pn,h,"TestLoadImage: timeout",!1,a,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=o}else a(!1)}function Ay(o,a){const h=new pi,d=new AbortController,N=setTimeout(()=>{d.abort(),pn(h,"TestPingServer: timeout",!1,a)},1e4);fetch(o,{signal:d.signal}).then(x=>{clearTimeout(N),x.ok?pn(h,"TestPingServer: ok",!0,a):pn(h,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(N),pn(h,"TestPingServer: error",!1,a)})}function pn(o,a,h,d,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),d(h)}catch{}}function Dy(){this.g=new fy}function Oy(o,a,h){const d=h||"";try{Cf(o,function(N,x){let M=N;f(N)&&(M=lu(N)),a.push(d+x+"="+encodeURIComponent(M))})}catch(N){throw a.push(d+"type="+encodeURIComponent("_badmap")),N}}function Js(o){this.l=o.Ub||null,this.j=o.eb||!1}R(Js,uu),Js.prototype.g=function(){return new Zs(this.l,this.j)},Js.prototype.i=function(o){return function(){return o}}({});function Zs(o,a){Ue.call(this),this.D=o,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Zs,Ue),t=Zs.prototype,t.open=function(o,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=a,this.readyState=1,wi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(a.body=o),(this.D||u).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xf(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function xf(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var a=o.value?o.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!o.done}))&&(this.response=this.responseText+=a)}o.done?yi(this):wi(this),this.readyState==3&&xf(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,yi(this))},t.Qa=function(o){this.g&&(this.response=o,yi(this))},t.ga=function(){this.g&&yi(this)};function yi(o){o.readyState=4,o.l=null,o.j=null,o.v=null,wi(o)}t.setRequestHeader=function(o,a){this.u.append(o,a)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],a=this.h.entries();for(var h=a.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=a.next();return o.join(`\r
`)};function wi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Af(o){let a="";return U(o,function(h,d){a+=d,a+=":",a+=h,a+=`\r
`}),a}function wu(o,a,h){e:{for(d in h){var d=!1;break e}d=!0}d||(h=Af(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):ce(o,a,h))}function Ee(o){Ue.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ee,Ue);var Ly=/^https?$/i,My=["POST","PUT"];t=Ee.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,a,h,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);a=a?a.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():du.g(),this.v=this.o?uf(this.o):uf(du),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(a,String(o),!0),this.B=!1}catch(x){Df(this,x);return}if(o=h||"",h=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var N in d)h.set(N,d[N]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const x of d.keys())h.set(x,d.get(x));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(h.keys()).find(x=>x.toLowerCase()=="content-type"),N=u.FormData&&o instanceof u.FormData,!(0<=Array.prototype.indexOf.call(My,a,void 0))||d||N||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,M]of h)this.g.setRequestHeader(x,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mf(this),this.u=!0,this.g.send(o),this.u=!1}catch(x){Df(this,x)}};function Df(o,a){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=a,o.m=5,Of(o),eo(o)}function Of(o){o.A||(o.A=!0,Ke(o,"complete"),Ke(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ke(this,"complete"),Ke(this,"abort"),eo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eo(this,!0)),Ee.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lf(this):this.bb())},t.bb=function(){Lf(this)};function Lf(o){if(o.h&&typeof l<"u"&&(!o.v[1]||Qt(o)!=4||o.Z()!=2)){if(o.u&&Qt(o)==4)rf(o.Ea,0,o);else if(Ke(o,"readystatechange"),Qt(o)==4){o.h=!1;try{const M=o.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var h;if(!(h=a)){var d;if(d=M===0){var N=String(o.D).match(Tf)[1]||null;!N&&u.self&&u.self.location&&(N=u.self.location.protocol.slice(0,-1)),d=!Ly.test(N?N.toLowerCase():"")}h=d}if(h)Ke(o,"complete"),Ke(o,"success");else{o.m=6;try{var x=2<Qt(o)?o.g.statusText:""}catch{x=""}o.l=x+" ["+o.Z()+"]",Of(o)}}finally{eo(o)}}}}function eo(o,a){if(o.g){Mf(o);const h=o.g,d=o.v[0]?()=>{}:null;o.g=null,o.v=null,a||Ke(o,"ready");try{h.onreadystatechange=d}catch{}}}function Mf(o){o.I&&(u.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Qt(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var a=this.g.responseText;return o&&a.indexOf(o)==0&&(a=a.substring(o.length)),hy(a)}};function Ff(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Fy(o){const a={};o=(o.g&&2<=Qt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<o.length;d++){if(S(o[d]))continue;var h=T(o[d]);const N=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const x=a[N]||[];a[N]=x,x.push(h)}w(a,function(d){return d.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(o,a,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||a}function jf(o){this.Aa=0,this.i=[],this.j=new pi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,o),this.cb=Ei("retryDelaySeedMs",1e4,o),this.Wa=Ei("forwardChannelMaxRetries",2,o),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new vf(o&&o.concurrentRequestLimit),this.Da=new Dy,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jf.prototype,t.la=8,t.G=1,t.connect=function(o,a,h,d){Qe(0),this.W=o,this.H=a||{},h&&d!==void 0&&(this.H.OSID=h,this.H.OAID=d),this.F=this.X,this.I=Gf(this,null,this.W),no(this)};function Eu(o){if(Uf(o),o.G==3){var a=o.U++,h=Kt(o.I);if(ce(h,"SID",o.K),ce(h,"RID",a),ce(h,"TYPE","terminate"),Si(o,h),a=new fn(o,o.j,a),a.L=2,a.v=Xs(Kt(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(a.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=a.v,h=!0),h||(a.g=Kf(a.j,null),a.g.ea(a.v)),a.F=Date.now(),Qs(a)}Wf(o)}function to(o){o.g&&(Cu(o),o.g.cancel(),o.g=null)}function Uf(o){to(o),o.u&&(u.clearTimeout(o.u),o.u=null),ro(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&u.clearTimeout(o.s),o.s=null)}function no(o){if(!yf(o.h)&&!o.s){o.s=!0;var a=o.Ga;ae||$(),F||(ae(),F=!0),H.add(a,o),o.B=0}}function jy(o,a){return wf(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=a.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=di(m(o.Ga,o,a),bf(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new fn(this,this.j,o);let x=this.o;if(this.S&&(x?(x=p(x),E(x,this.S)):x=this.S),this.m!==null||this.O||(N.H=x,x=null),this.P)e:{for(var a=0,h=0;h<this.i.length;h++){t:{var d=this.i[h];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(a+=d,4096<a){a=h;break e}if(a===4096||h===this.i.length-1){a=h+1;break e}}a=1e3}else a=1e3;a=Bf(this,N,a),h=Kt(this.I),ce(h,"RID",o),ce(h,"CVER",22),this.D&&ce(h,"X-HTTP-Session-Id",this.D),Si(this,h),x&&(this.O?a="headers="+encodeURIComponent(String(Af(x)))+"&"+a:this.m&&wu(h,this.m,x)),yu(this.h,N),this.Ua&&ce(h,"TYPE","init"),this.P?(ce(h,"$req",a),ce(h,"SID","null"),N.T=!0,gu(N,h,null)):gu(N,h,a),this.G=2}}else this.G==3&&(o?zf(this,o):this.i.length==0||yf(this.h)||zf(this))};function zf(o,a){var h;a?h=a.l:h=o.U++;const d=Kt(o.I);ce(d,"SID",o.K),ce(d,"RID",h),ce(d,"AID",o.T),Si(o,d),o.m&&o.o&&wu(d,o.m,o.o),h=new fn(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),a&&(o.i=a.D.concat(o.i)),a=Bf(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),yu(o.h,h),gu(h,d,a)}function Si(o,a){o.H&&U(o.H,function(h,d){ce(a,d,h)}),o.l&&Cf({},function(h,d){ce(a,d,h)})}function Bf(o,a,h){h=Math.min(o.i.length,h);var d=o.l?m(o.l.Na,o.l,o):null;e:{var N=o.i;let x=-1;for(;;){const M=["count="+h];x==-1?0<h?(x=N[0].g,M.push("ofs="+x)):x=0:M.push("ofs="+x);let ie=!0;for(let Le=0;Le<h;Le++){let J=N[Le].g;const ze=N[Le].map;if(J-=x,0>J)x=Math.max(0,N[Le].g-100),ie=!1;else try{Oy(ze,M,"req"+J+"_")}catch{d&&d(ze)}}if(ie){d=M.join("&");break e}}}return o=o.i.splice(0,h),a.D=o,d}function Vf(o){if(!o.g&&!o.u){o.Y=1;var a=o.Fa;ae||$(),F||(ae(),F=!0),H.add(a,o),o.v=0}}function Su(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=di(m(o.Fa,o),bf(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=di(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),to(this),Hf(this))};function Cu(o){o.A!=null&&(u.clearTimeout(o.A),o.A=null)}function Hf(o){o.g=new fn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var a=Kt(o.qa);ce(a,"RID","rpc"),ce(a,"SID",o.K),ce(a,"AID",o.T),ce(a,"CI",o.F?"0":"1"),!o.F&&o.ja&&ce(a,"TO",o.ja),ce(a,"TYPE","xmlhttp"),Si(o,a),o.m&&o.o&&wu(a,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Xs(Kt(a)),h.m=null,h.P=!0,gf(h,o)}t.Za=function(){this.C!=null&&(this.C=null,to(this),Su(this),Qe(19))};function ro(o){o.C!=null&&(u.clearTimeout(o.C),o.C=null)}function $f(o,a){var h=null;if(o.g==a){ro(o),Cu(o),o.g=null;var d=2}else if(vu(o.h,a))h=a.D,Ef(o.h,a),d=1;else return;if(o.G!=0){if(a.o)if(d==1){h=a.m?a.m.length:0,a=Date.now()-a.F;var N=o.B;d=hu(),Ke(d,new ff(d,h)),no(o)}else Vf(o);else if(N=a.s,N==3||N==0&&0<a.X||!(d==1&&jy(o,a)||d==2&&Su(o)))switch(h&&0<h.length&&(a=o.h,a.i=a.i.concat(h)),N){case 1:Wn(o,5);break;case 4:Wn(o,10);break;case 3:Wn(o,6);break;default:Wn(o,2)}}}function bf(o,a){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*a}function Wn(o,a){if(o.j.info("Error code "+a),a==2){var h=m(o.fb,o),d=o.Xa;const N=!d;d=new bn(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ys(d,"https"),Xs(d),N?xy(d.toString(),h):Ay(d.toString(),h)}else Qe(2);o.G=0,o.l&&o.l.sa(a),Wf(o),Uf(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function Wf(o){if(o.G=0,o.ka=[],o.l){const a=Sf(o.h);(a.length!=0||o.i.length!=0)&&(B(o.ka,a),B(o.ka,o.i),o.h.i.length=0,A(o.i),o.i.length=0),o.l.ra()}}function Gf(o,a,h){var d=h instanceof bn?Kt(h):new bn(h);if(d.g!="")a&&(d.g=a+"."+d.g),qs(d,d.s);else{var N=u.location;d=N.protocol,a=a?a+"."+N.hostname:N.hostname,N=+N.port;var x=new bn(null);d&&Ys(x,d),a&&(x.g=a),N&&qs(x,N),h&&(x.l=h),d=x}return h=o.D,a=o.ya,h&&a&&ce(d,h,a),ce(d,"VER",o.la),Si(o,d),d}function Kf(o,a,h){if(a&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=o.Ca&&!o.pa?new Ee(new Js({eb:h})):new Ee(o.pa),a.Ha(o.J),a}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qf(){}t=Qf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _t(o,a){Ue.call(this),this.g=new jf(a),this.l=o,this.h=a&&a.messageUrlParams||null,o=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(o?o["X-WebChannel-Content-Type"]=a.messageContentType:o={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(o?o["X-WebChannel-Client-Profile"]=a.va:o={"X-WebChannel-Client-Profile":a.va}),this.g.S=o,(o=a&&a.Sb)&&!S(o)&&(this.g.m=o),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!S(a)&&(this.g.D=a,o=this.h,o!==null&&a in o&&(o=this.h,a in o&&delete o[a])),this.j=new _r(this)}R(_t,Ue),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){Eu(this.g)},_t.prototype.o=function(o){var a=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=lu(o),o=h);a.i.push(new wy(a.Ya++,o)),a.G==3&&no(a)},_t.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,_t.aa.N.call(this)};function Yf(o){au.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var a=o.__sm__;if(a){e:{for(const h in a){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,a=a!==null&&o in a?a[o]:void 0),this.data=a}else this.data=o}R(Yf,au);function qf(){cu.call(this),this.status=1}R(qf,cu);function _r(o){this.g=o}R(_r,Qf),_r.prototype.ua=function(){Ke(this.g,"a")},_r.prototype.ta=function(o){Ke(this.g,new Yf(o))},_r.prototype.sa=function(o){Ke(this.g,new qf)},_r.prototype.ra=function(){Ke(this.g,"b")},_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,fu.NO_ERROR=0,fu.TIMEOUT=8,fu.HTTP_ERROR=6,vy.COMPLETE="complete",dy.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Ee.prototype.listenOnce=Ee.prototype.L,Ee.prototype.getLastError=Ee.prototype.Ka,Ee.prototype.getLastErrorCode=Ee.prototype.Ba,Ee.prototype.getStatus=Ee.prototype.Z,Ee.prototype.getResponseJson=Ee.prototype.Oa,Ee.prototype.getResponseText=Ee.prototype.oa,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Ha}).apply(typeof Co<"u"?Co:typeof self<"u"?self:typeof window<"u"?window:{});const vp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new vh("@firebase/firestore");function xt(t,...e){if(Xr.logLevel<=te.DEBUG){const n=e.map(wh);Xr.debug(`Firestore (${js}): ${t}`,...n)}}function U_(t,...e){if(Xr.logLevel<=te.ERROR){const n=e.map(wh);Xr.error(`Firestore (${js}): ${t}`,...n)}}function $1(t,...e){if(Xr.logLevel<=te.WARN){const n=e.map(wh);Xr.warn(`Firestore (${js}): ${t}`,...n)}}function wh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+t;throw U_(e),new Error(e)}function Xi(t,e){t||Eh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class rt extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}}class W1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G1{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xi(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ji,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ji)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xi(typeof r.accessToken=="string"),new z_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xi(e===null||typeof e=="string"),new qe(e)}}class K1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xi(this.o===void 0);const r=s=>{s.error!=null&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,xt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xi(typeof n.token=="string"),this.R=n.token,new Y1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X1(t){return t.name==="IndexedDbTransactionError"}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yp,q;(q=yp||(yp={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new j_([4294967295,4294967295],0);function ta(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&xt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Sh(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var wp,Ep;(Ep=wp||(wp={})).ea="default",Ep.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map;function eS(t,e,n,r){if(e===!0&&r===!0)throw new rt(nt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Eh()}function nS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tS(t);throw new rt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Z1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b1;switch(r.type){case"firstParty":return new Q1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sp.get(n);r&&(xt("ComponentProvider","Removing Datastore"),Sp.delete(n),r.terminate())}(this),Promise.resolve()}}function rS(t,e,n,r={}){var i;const s=(t=nS(t,B_))._getSettings(),l=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&$1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=qe.MOCK_USER;else{u=I_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new rt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qe(f)}t._authCredentials=new W1(new z_(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new J1(this,"async_queue_retry"),this.Vu=()=>{const r=ta();r&&xt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ta();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ta();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!X1(e))throw e;xt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw U_("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Sh.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Eh()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class iS extends B_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tp(e),this._firestoreClient=void 0,await e}}}function sS(t,e){const n=typeof t=="object"?t:L_(),r=typeof t=="string"?t:"(default)",i=A_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=C_("firestore");s&&rS(i,...s)}return i}(function(e,n=!0){(function(i){js=i})(D_),Ss(new qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new iS(new G1(r.getProvider("auth-internal")),new q1(r.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new rt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(f.options.projectId,_)}(l,i),l);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Dn(vp,"4.7.3",e),Dn(vp,"4.7.3","esm2017")})();var Ip={};const kp="@firebase/database",Np="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V_="";function oS(t){V_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Es(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lS(e)}}catch{}return new uS},Zn=H_("localStorage"),aS=H_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new vh("@firebase/database"),cS=function(){let t=1;return function(){return t++}}(),$_=function(t){const e=OE(t),n=new DE;n.update(e);const r=n.digest();return mh.encodeByteArray(r)},Us=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Us.apply(null,r):typeof r=="object"?e+=ke(r):e+=r,e+=" "}return e};let Zi=null,Rp=!0;const hS=function(t,e){L(!0,"Can't turn on custom loggers persistently."),Br.logLevel=te.VERBOSE,Zi=Br.log.bind(Br)},be=function(...t){if(Rp===!0&&(Rp=!1,Zi===null&&aS.get("logging_enabled")===!0&&hS()),Zi){const e=Us.apply(null,t);Zi(e)}},zs=function(t){return function(...e){be(t,...e)}},cc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Us(...t);Br.error(e)},un=function(...t){const e=`FIREBASE FATAL ERROR: ${Us(...t)}`;throw Br.error(e),new Error(e)},at=function(...t){const e="FIREBASE WARNING: "+Us(...t);Br.warn(e)},fS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},b_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},dS=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jr="[MIN_NAME]",ur="[MAX_NAME]",li=function(t,e){if(t===e)return 0;if(t===Jr||e===ur)return-1;if(e===Jr||t===ur)return 1;{const n=Pp(t),r=Pp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pS=function(t,e){return t===e?0:t<e?-1:1},Ai=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ke(e))},Ch=function(t){if(typeof t!="object"||t===null)return ke(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ke(e[r]),n+=":",n+=Ch(t[e[r]]);return n+="}",n},W_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const G_=function(t){L(!b_(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,l,u,c;t===0?(s=0,l=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=u+r,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(s=0,l=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const _=f.join("");let g="";for(c=0;c<64;c+=8){let m=parseInt(_.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),g=g+m}return g.toLowerCase()},gS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _S(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const vS=new RegExp("^-?(0*)\\d{1,10}$"),yS=-2147483648,wS=2147483647,Pp=function(t){if(vS.test(t)){const e=Number(t);if(e>=yS&&e<=wS)return e}return null},ui=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},ES=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},es=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}}class Uo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Uo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="5",K_="v",Q_="s",Y_="r",q_="f",X_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J_="ls",Z_="p",hc="ac",ev="websocket",tv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i,s=!1,l="",u=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TS(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function rv(t,e,n){L(typeof e=="string","typeof type must == string"),L(typeof n=="object","typeof params must == object");let r;if(e===ev)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===tv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TS(t)&&(n.ns=t.namespace);const i=[];return ct(n,(s,l)=>{i.push(s+"="+l)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.counters_={}}incrementCounter(e,n=1){cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return pE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={},ra={};function Ih(t){const e=t.toString();return na[e]||(na[e]=new IS),na[e]}function kS(t,e){const n=t.toString();return ra[n]||(ra[n]=e()),ra[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ui(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="start",RS="close",PS="pLPCommand",xS="pRTLPCB",iv="id",sv="pw",ov="ser",AS="cb",DS="seg",OS="ts",LS="d",MS="dframe",lv=1870,uv=30,FS=lv-uv,jS=25e3,US=3e4;class Or{constructor(e,n,r,i,s,l,u){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zs(e),this.stats_=Ih(n),this.urlFn=c=>(this.appCheckToken&&(c[hc]=this.appCheckToken),rv(n,tv,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new NS(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(US)),dS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kh((...s)=>{const[l,u,c,f,_]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===xp)this.id=u,this.password=c;else if(l===RS)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...s)=>{const[l,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const r={};r[xp]="t",r[ov]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[AS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[K_]=Th,this.transportSessionId&&(r[Q_]=this.transportSessionId),this.lastSessionId&&(r[J_]=this.lastSessionId),this.applicationId&&(r[Z_]=this.applicationId),this.appCheckToken&&(r[hc]=this.appCheckToken),typeof location<"u"&&location.hostname&&X_.test(location.hostname)&&(r[Y_]=q_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Or.forceAllow_=!0}static forceDisallow(){Or.forceDisallow_=!0}static isAvailable(){return Or.forceAllow_?!0:!Or.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gS()&&!mS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=w_(n),i=W_(r,FS);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[MS]="t",r[iv]=e,r[sv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kh{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cS(),window[PS+this.uniqueCallbackIdentifier]=e,window[xS+this.uniqueCallbackIdentifier]=n,this.myIFrame=kh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){be("frame writing exception"),u.stack&&be(u.stack),be(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||be("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[iv]=this.myID,e[sv]=this.myPW,e[ov]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uv+r.length<=lv;){const l=this.pendingSegs.shift();r=r+"&"+DS+i+"="+l.seg+"&"+OS+i+"="+l.ts+"&"+LS+i+"="+l.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jS)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=16384,BS=45e3;let dl=null;typeof MozWebSocket<"u"?dl=MozWebSocket:typeof WebSocket<"u"&&(dl=WebSocket);class Pt{constructor(e,n,r,i,s,l,u){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zs(this.connId),this.stats_=Ih(n),this.connURL=Pt.connectionURL_(n,l,u,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const l={};return l[K_]=Th,typeof location<"u"&&location.hostname&&X_.test(location.hostname)&&(l[Y_]=q_),n&&(l[Q_]=n),r&&(l[J_]=r),i&&(l[hc]=i),s&&(l[Z_]=s),rv(e,ev,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let r;CE(),this.mySock=new dl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&dl!==null&&!Pt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Es(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(L(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=W_(n,zS);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pt.responsesRequiredToBeHealthy=2;Pt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Or,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(e.webSocketOnly&&(n||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const i=this.transports_=[];for(const s of Ts.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ts.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ts.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=6e4,HS=5e3,$S=10*1024,bS=100*1024,ia="t",Ap="d",WS="s",Dp="r",GS="e",Op="o",Lp="a",Mp="n",Fp="p",KS="h";class QS{constructor(e,n,r,i,s,l,u,c,f,_){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zs("c:"+this.id+":"),this.transportManager_=new Ts(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=es(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$S?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ia in e){const n=e[ia];n===Lp?this.upgradeIfSecondaryHealthy_():n===Dp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Op&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ai("t",e),r=Ai("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Fp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ai("t",e),r=Ai("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ai(ia,e);if(Ap in e){const r=e[Ap];if(n===KS){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Mp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WS?this.onConnectionShutdown_(r):n===Dp?this.onReset_(r):n===GS?cc("Server Error: "+r):n===Op?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Th!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),es(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(VS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):es(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Fp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.allowedEvents_=e,this.listeners_={},L(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){L(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends cv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!k_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pl}getInitialEvent(e){return L(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=32,Up=768;class se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Z(){return new se("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jn(t){return t.pieces_.length-t.pieceNum_}function le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new se(t.pieces_,e)}function hv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function dv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new se(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function Q(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=G(t),r=G(e);if(n===null)return e;if(n===r)return Xe(le(t),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Nh(t,e){if(jn(t)!==jn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function At(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jn(t)>jn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class qS{constructor(e,n){this.errorPrefix_=n,this.parts_=fv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$l(this.parts_[r]);pv(this)}}function XS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$l(e),pv(t)}function JS(t){const e=t.parts_.pop();t.byteLength_-=$l(e),t.parts_.length>0&&(t.byteLength_-=1)}function pv(t){if(t.byteLength_>Up)throw new Error(t.errorPrefix_+"has a key path longer than "+Up+" bytes ("+t.byteLength_+").");if(t.parts_.length>jp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jp+") or object contains a cycle "+Yn(t))}function Yn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends cv{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rh}getInitialEvent(e){return L(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=1e3,ZS=60*5*1e3,zp=30*1e3,eC=1.3,tC=3e4,nC="server_kill",Bp=3;class tn extends av{constructor(e,n,r,i,s,l,u,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=tn.nextPersistentConnectionId_++,this.log_=zs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Di,this.maxReconnectDelay_=ZS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(ke(s)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Hl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const u={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(l).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},l="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(l,s,u=>{const c=u.d,f=u.s;tn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cn(e,"w")){const r=Yr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=PE(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,l=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),L(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},l="n";i&&(s.q=r,s.t=i),this.sendRequest(l,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,l=>{i&&setTimeout(()=>{i(l.s,l.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const l={p:n,d:r};s!==void 0&&(l.h=s),this.outstandingPuts_.push({action:e,request:l,onComplete:i}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ke(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):cc("Unrecognized action received from server: "+ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tC&&(this.reconnectDelay_=Di),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+tn.nextConnectionId_++,s=this.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,r())},f=function(g){L(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(g)};this.realtime_={close:c,sendRequest:f};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,m]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);l?be("getToken() completed but was canceled"):(be("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=m&&m.token,u=new QS(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,P=>{at(P+" ("+this.repoInfo_.toString()+")"),this.interrupt(nC)},s))}catch(g){this.log_("Failed to get token: "+g),l||(this.repoInfo_.nodeAdmin&&at(g),c())}}}interrupt(e){be("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){be("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lp(this.interruptReasons_)&&(this.reconnectDelay_=Di,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ch(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new se(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){be("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bp&&(this.reconnectDelay_=zp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){be("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+V_.replace(/\./g,"-")]=1,k_()?e["framework.cordova"]=1:SE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pl.getInstance().currentlyOnline();return lp(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new K(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new K(Jr,e),i=new K(Jr,n);return this.compare(r,i)!==0}minPost(){return K.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class gv extends bl{static get __EMPTY_NODE(){return To}static set __EMPTY_NODE(e){To=e}compare(e,n){return li(e.name,n.name)}isDefinedOn(e){throw ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return K.MIN}maxPost(){return new K(ur,To)}makePost(e,n){return L(typeof e=="string","KeyIndex indexValue must always be a string."),new K(e,To)}toString(){return".key"}}const Vr=new gv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?r(e.key,n):1,i&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ae{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ae.RED,this.left=i??st.EMPTY_NODE,this.right=s??st.EMPTY_NODE}copy(e,n,r,i,s){return new Ae(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return st.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ae.RED=!0;Ae.BLACK=!1;class rC{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ae(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class st{constructor(e,n=st.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new st(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ae.BLACK,null,null))}remove(e){return new st(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ae.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Io(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Io(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Io(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Io(this.root_,null,this.comparator_,!0,e)}}st.EMPTY_NODE=new rC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e){return li(t.name,e.name)}function Ph(t,e){return li(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function sC(t){fc=t}const mv=function(t){return typeof t=="number"?"number:"+G_(t):"string:"+t},_v=function(t){if(t.isLeafNode()){const e=t.val();L(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cn(e,".sv"),"Priority must be a string or number.")}else L(t===fc||t.isEmpty(),"priority of unexpected type.");L(t===fc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp;class Pe{constructor(e,n=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_v(this.priorityNode_)}static set __childrenNodeConstructor(e){Vp=e}static get __childrenNodeConstructor(){return Vp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Pe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Q(e)?this:G(e)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=G(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=G_(this.value_):e+=this.value_,this.lazyHash_=$_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Pe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Pe.__childrenNodeConstructor?-1:(L(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Pe.VALUE_TYPE_ORDER.indexOf(n),s=Pe.VALUE_TYPE_ORDER.indexOf(r);return L(i>=0,"Unknown leaf type: "+n),L(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv,yv;function oC(t){vv=t}function lC(t){yv=t}class uC extends bl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?li(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return K.MIN}maxPost(){return new K(ur,new Pe("[PRIORITY-POST]",yv))}makePost(e,n){const r=vv(e);return new K(n,new Pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const ye=new uC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=Math.log(2);class cC{constructor(e){const n=s=>parseInt(Math.log(s)/aC,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const gl=function(t,e,n,r){t.sort(e);const i=function(c,f){const _=f-c;let g,m;if(_===0)return null;if(_===1)return g=t[c],m=n?n(g):g,new Ae(m,g.node,Ae.BLACK,null,null);{const P=parseInt(_/2,10)+c,R=i(c,P),A=i(P+1,f);return g=t[P],m=n?n(g):g,new Ae(m,g.node,Ae.BLACK,R,A)}},s=function(c){let f=null,_=null,g=t.length;const m=function(R,A){const B=g-R,I=g;g-=R;const S=i(B+1,I),k=t[B],D=n?n(k):k;P(new Ae(D,k.node,A,null,S))},P=function(R){f?(f.left=R,f=R):(_=R,f=R)};for(let R=0;R<c.count;++R){const A=c.nextBitIsOne(),B=Math.pow(2,c.count-(R+1));A?m(B,Ae.BLACK):(m(B,Ae.BLACK),m(B,Ae.RED))}return _},l=new cC(t.length),u=s(l);return new st(r||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;const wr={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return L(wr&&ye,"ChildrenNode.ts has not been loaded"),sa=sa||new Zt({".priority":wr},{".priority":ye}),sa}get(e){const n=Yr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof st?n:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,n){L(e!==Vr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(K.Wrap);let l=s.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=s.getNext();let u;i?u=gl(r,e.getCompare()):u=wr;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const _=Object.assign({},this.indexes_);return _[c]=u,new Zt(_,f)}addToIndexes(e,n){const r=cl(this.indexes_,(i,s)=>{const l=Yr(this.indexSet_,s);if(L(l,"Missing index implementation for "+s),i===wr)if(l.isDefinedOn(e.node)){const u=[],c=n.getIterator(K.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&u.push(f),f=c.getNext();return u.push(e),gl(u,l.getCompare())}else return wr;else{const u=n.get(e.name);let c=i;return u&&(c=c.remove(new K(e.name,u))),c.insert(e,e.node)}});return new Zt(r,this.indexSet_)}removeFromIndexes(e,n){const r=cl(this.indexes_,i=>{if(i===wr)return i;{const s=n.get(e.name);return s?i.remove(new K(e.name,s)):i}});return new Zt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oi;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_v(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Oi||(Oi=new V(new st(Ph),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Oi}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Oi:n}}getChild(e){const n=G(e);return n===null?this:this.getImmediateChild(n).getChild(le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(L(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new K(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const l=i.isEmpty()?Oi:this.priorityNode_;return new V(i,l,s)}}updateChild(e,n){const r=G(e);if(r===null)return n;{L(G(e)!==".priority"||jn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(le(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ye,(l,u)=>{n[l]=u.val(e),r++,s&&V.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mv(this.getPriority().val())+":"),this.forEachChild(ye,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":$_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new K(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new K(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new K(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,K.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Bs?-1:0}withIndex(e){if(e===Vr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ye),i=n.getIterator(ye);let s=r.getNext(),l=i.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=i.getNext()}return s===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Vr?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hC extends V{constructor(){super(new st(Ph),V.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const Bs=new hC;Object.defineProperties(K,{MIN:{value:new K(Jr,V.EMPTY_NODE)},MAX:{value:new K(ur,Bs)}});gv.__EMPTY_NODE=V.EMPTY_NODE;Pe.__childrenNodeConstructor=V;sC(Bs);lC(Bs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=!0;function De(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),L(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Pe(n,De(e))}if(!(t instanceof Array)&&fC){const n=[];let r=!1;if(ct(t,(l,u)=>{if(l.substring(0,1)!=="."){const c=De(u);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new K(l,c)))}}),n.length===0)return V.EMPTY_NODE;const s=gl(n,iC,l=>l.name,Ph);if(r){const l=gl(n,ye.getCompare());return new V(s,De(e),new Zt({".priority":l},{".priority":ye}))}else return new V(s,De(e),Zt.Default)}else{let n=V.EMPTY_NODE;return ct(t,(r,i)=>{if(cn(t,r)&&r.substring(0,1)!=="."){const s=De(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(De(e))}}oC(De);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends bl{constructor(e){super(),this.indexPath_=e,L(!Q(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?li(e.name,n.name):s}makePost(e,n){const r=De(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new K(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,Bs);return new K(ur,e)}toString(){return fv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends bl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?li(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return K.MIN}maxPost(){return K.MAX}makePost(e,n){const r=De(e);return new K(n,r)}toString(){return".value"}}const gC=new pC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){return{type:"value",snapshotNode:t}}function Zr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ks(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.index_=e}updateChild(e,n,r,i,s,l){L(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(i).equals(r.getChild(i))&&u.isEmpty()===r.isEmpty()||(l!=null&&(r.isEmpty()?e.hasChild(n)?l.trackChildChange(Is(n,u)):L(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Zr(n,r)):l.trackChildChange(ks(n,r,u))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ye,(i,s)=>{n.hasChild(i)||r.trackChildChange(Is(i,s))}),n.isLeafNode()||n.forEachChild(ye,(i,s)=>{if(e.hasChild(i)){const l=e.getImmediateChild(i);l.equals(s)||r.trackChildChange(ks(i,s,l))}else r.trackChildChange(Zr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.indexedFilter_=new xh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ns.getStartPost_(e),this.endPost_=Ns.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,l){return this.matches(new K(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,l)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(ye,(l,u)=>{s.matches(new K(l,u))||(i=i.updateImmediateChild(l,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ns(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,l){return this.rangedFilter_.matches(new K(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,l):this.fullLimitUpdateChild_(e,n,r,s,l)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))i=i.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let l=0;for(;s.hasNext();){const u=s.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:i=i.updateImmediateChild(u.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let l;if(this.reverse_){const g=this.index_.getCompare();l=(m,P)=>g(P,m)}else l=this.index_.getCompare();const u=e;L(u.numChildren()===this.limit_,"");const c=new K(n,r),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(c);if(u.hasChild(n)){const g=u.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,f,this.reverse_);for(;m!=null&&(m.name===n||u.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const P=m==null?1:l(m,c);if(_&&!r.isEmpty()&&P>=0)return s!=null&&s.trackChildChange(ks(n,r,g)),u.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Is(n,g));const A=u.updateImmediateChild(n,V.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(Zr(m.name,m.node)),A.updateImmediateChild(m.name,m.node)):A}}else return r.isEmpty()?e:_&&l(f,c)>=0?(s!=null&&(s.trackChildChange(Is(f.name,f.node)),s.trackChildChange(Zr(n,r))),u.updateImmediateChild(n,r).updateImmediateChild(f.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ur}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const e=new Ah;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function vC(t){return t.loadsAllData()?new xh(t.getIndex()):t.hasLimit()?new _C(t):new Ns(t)}function Hp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ye?n="$priority":t.index_===gC?n="$value":t.index_===Vr?n="$key":(L(t.index_ instanceof dC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ke(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ke(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ke(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ke(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $p(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ye&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends av{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=zs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(L(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=ml.getListenId_(e,r),u={};this.listens_[l]=u;const c=Hp(e._queryParams);this.restRequest_(s+".json",c,(f,_)=>{let g=_;if(f===404&&(g=null,f=null),f===null&&this.onDataUpdate_(s,g,!1,r),Yr(this.listens_,l)===u){let m;f?f===401?m="permission_denied":m="rest_error:"+f:m="ok",i(m,null)}})}unlisten(e,n){const r=ml.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Hp(e._queryParams),r=e._path.toString(),i=new Hl;return this.restRequest_(r+".json",n,(s,l)=>{let u=l;s===404&&(u=null,s=null),s===null?(this.onDataUpdate_(r,u,!1,null),i.resolve(u)):i.reject(new Error(u))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+AE(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(r&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let c=null;if(u.status>=200&&u.status<300){try{c=Es(u.responseText)}catch{at("Failed to parse JSON response for "+l+": "+u.responseText)}r(null,c)}else u.status!==401&&u.status!==404&&at("Got unsuccessful REST response for "+l+" Status: "+u.status),r(u.status);r=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(){return{value:null,children:new Map}}function Ev(t,e,n){if(Q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=G(e);t.children.has(r)||t.children.set(r,_l());const i=t.children.get(r);e=le(e),Ev(i,e,n)}}function dc(t,e,n){t.value!==null?n(e,t.value):wC(t,(r,i)=>{const s=new se(e.toString()+"/"+r);dc(i,s,n)})}function wC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=10*1e3,SC=30*1e3,CC=5*60*1e3;class TC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new EC(e);const r=bp+(SC-bp)*Math.random();es(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ct(e,(i,s)=>{s>0&&cn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),es(this.reportStats_.bind(this),Math.floor(Math.random()*2*CC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Dt||(Dt={}));function Sv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Dt.ACK_USER_WRITE,this.source=Sv()}operationForChild(e){if(Q(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new se(e));return new vl(Z(),n,this.revert)}}else return L(G(this.path)===e,"operationForChild called for unrelated child."),new vl(le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.source=e,this.path=n,this.type=Dt.LISTEN_COMPLETE}operationForChild(e){return Q(this.path)?new Rs(this.source,Z()):new Rs(this.source,le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Dt.OVERWRITE}operationForChild(e){return Q(this.path)?new ar(this.source,Z(),this.snap.getImmediateChild(e)):new ar(this.source,le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Dt.MERGE}operationForChild(e){if(Q(this.path)){const n=this.children.subtree(new se(e));return n.isEmpty()?null:n.value?new ar(this.source,Z(),n.value):new Ps(this.source,Z(),n)}else return L(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ps(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Q(e))return this.isFullyInitialized()&&!this.filtered_;const n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kC(t,e,n,r){const i=[],s=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(mC(l.childName,l.snapshotNode))}),Li(t,i,"child_removed",e,r,n),Li(t,i,"child_added",e,r,n),Li(t,i,"child_moved",s,r,n),Li(t,i,"child_changed",e,r,n),Li(t,i,"value",e,r,n),i}function Li(t,e,n,r,i,s){const l=r.filter(u=>u.type===n);l.sort((u,c)=>RC(t,u,c)),l.forEach(u=>{const c=NC(t,u,s);i.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(c,t.query_))})})}function NC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function RC(t,e,n){if(e.childName==null||n.childName==null)throw ii("Should only compare child_ events.");const r=new K(e.childName,e.snapshotNode),i=new K(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,e){return{eventCache:t,serverCache:e}}function ts(t,e,n,r){return Wl(new Un(e,n,r),t.serverCache)}function Cv(t,e,n,r){return Wl(t.eventCache,new Un(e,n,r))}function yl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa;const PC=()=>(oa||(oa=new st(pS)),oa);class fe{constructor(e,n=PC()){this.value=e,this.children=n}static fromObject(e){let n=new fe(null);return ct(e,(r,i)=>{n=n.set(new se(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Z(),value:this.value};if(Q(e))return null;{const r=G(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(le(e),n);return s!=null?{path:Ne(new se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Q(e))return this;{const n=G(e),r=this.children.get(n);return r!==null?r.subtree(le(e)):new fe(null)}}set(e,n){if(Q(e))return new fe(n,this.children);{const r=G(e),s=(this.children.get(r)||new fe(null)).set(le(e),n),l=this.children.insert(r,s);return new fe(this.value,l)}}remove(e){if(Q(e))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=G(e),r=this.children.get(n);if(r){const i=r.remove(le(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(e){if(Q(e))return this.value;{const n=G(e),r=this.children.get(n);return r?r.get(le(e)):null}}setTree(e,n){if(Q(e))return n;{const r=G(e),s=(this.children.get(r)||new fe(null)).setTree(le(e),n);let l;return s.isEmpty()?l=this.children.remove(r):l=this.children.insert(r,s),new fe(this.value,l)}}fold(e){return this.fold_(Z(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Z(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Q(e))return null;{const s=G(e),l=this.children.get(s);return l?l.findOnPath_(le(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Z(),n)}foreachOnPath_(e,n,r){if(Q(e))return this;{this.value&&r(n,this.value);const i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(le(e),Ne(n,i),r):new fe(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.writeTree_=e}static empty(){return new Mt(new fe(null))}}function ns(t,e,n){if(Q(e))return new Mt(new fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const l=Xe(i,e);return s=s.updateChild(l,n),new Mt(t.writeTree_.set(i,s))}else{const i=new fe(n),s=t.writeTree_.setTree(e,i);return new Mt(s)}}}function Wp(t,e,n){let r=t;return ct(n,(i,s)=>{r=ns(r,Ne(e,i),s)}),r}function Gp(t,e){if(Q(e))return Mt.empty();{const n=t.writeTree_.setTree(e,new fe(null));return new Mt(n)}}function pc(t,e){return dr(t,e)!=null}function dr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function Kp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ye,(r,i)=>{e.push(new K(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new K(r,i.value))}),e}function On(t,e){if(Q(e))return t;{const n=dr(t,e);return n!=null?new Mt(new fe(n)):new Mt(t.writeTree_.subtree(e))}}function gc(t){return t.writeTree_.isEmpty()}function ei(t,e){return Tv(Z(),t.writeTree_,e)}function Tv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(L(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Tv(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e){return Rv(e,t)}function xC(t,e,n,r,i){L(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ns(t.visibleWrites,e,n)),t.lastWriteId=r}function AC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function DC(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);L(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,l=t.allWrites.length-1;for(;i&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&OC(u,r.path)?i=!1:At(r.path,u.path)&&(s=!0)),l--}if(i){if(s)return LC(t),!0;if(r.snap)t.visibleWrites=Gp(t.visibleWrites,r.path);else{const u=r.children;ct(u,c=>{t.visibleWrites=Gp(t.visibleWrites,Ne(r.path,c))})}return!0}else return!1}function OC(t,e){if(t.snap)return At(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&At(Ne(t.path,n),e))return!0;return!1}function LC(t){t.visibleWrites=Iv(t.allWrites,MC,Z()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MC(t){return t.visible}function Iv(t,e,n){let r=Mt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const l=s.path;let u;if(s.snap)At(n,l)?(u=Xe(n,l),r=ns(r,u,s.snap)):At(l,n)&&(u=Xe(l,n),r=ns(r,Z(),s.snap.getChild(u)));else if(s.children){if(At(n,l))u=Xe(n,l),r=Wp(r,u,s.children);else if(At(l,n))if(u=Xe(l,n),Q(u))r=Wp(r,Z(),s.children);else{const c=Yr(s.children,G(u));if(c){const f=c.getChild(le(u));r=ns(r,Z(),f)}}}else throw ii("WriteRecord should have .snap or .children")}}return r}function kv(t,e,n,r,i){if(!r&&!i){const s=dr(t.visibleWrites,e);if(s!=null)return s;{const l=On(t.visibleWrites,e);if(gc(l))return n;if(n==null&&!pc(l,Z()))return null;{const u=n||V.EMPTY_NODE;return ei(l,u)}}}else{const s=On(t.visibleWrites,e);if(!i&&gc(s))return n;if(!i&&n==null&&!pc(s,Z()))return null;{const l=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(At(f.path,e)||At(e,f.path))},u=Iv(t.allWrites,l,e),c=n||V.EMPTY_NODE;return ei(u,c)}}}function FC(t,e,n){let r=V.EMPTY_NODE;const i=dr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ye,(s,l)=>{r=r.updateImmediateChild(s,l)}),r;if(n){const s=On(t.visibleWrites,e);return n.forEachChild(ye,(l,u)=>{const c=ei(On(s,new se(l)),u);r=r.updateImmediateChild(l,c)}),Kp(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}else{const s=On(t.visibleWrites,e);return Kp(s).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}}function jC(t,e,n,r,i){L(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(e,n);if(pc(t.visibleWrites,s))return null;{const l=On(t.visibleWrites,s);return gc(l)?i.getChild(n):ei(l,i.getChild(n))}}function UC(t,e,n,r){const i=Ne(e,n),s=dr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const l=On(t.visibleWrites,i);return ei(l,r.getNode().getImmediateChild(n))}else return null}function zC(t,e){return dr(t.visibleWrites,e)}function BC(t,e,n,r,i,s,l){let u;const c=On(t.visibleWrites,e),f=dr(c,Z());if(f!=null)u=f;else if(n!=null)u=ei(c,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const _=[],g=l.getCompare(),m=s?u.getReverseIteratorFrom(r,l):u.getIteratorFrom(r,l);let P=m.getNext();for(;P&&_.length<i;)g(P,r)!==0&&_.push(P),P=m.getNext();return _}else return[]}function VC(){return{visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1}}function wl(t,e,n,r){return kv(t.writeTree,t.treePath,e,n,r)}function Lh(t,e){return FC(t.writeTree,t.treePath,e)}function Qp(t,e,n,r){return jC(t.writeTree,t.treePath,e,n,r)}function El(t,e){return zC(t.writeTree,Ne(t.treePath,e))}function HC(t,e,n,r,i,s){return BC(t.writeTree,t.treePath,e,n,r,i,s)}function Mh(t,e,n){return UC(t.writeTree,t.treePath,e,n)}function Nv(t,e){return Rv(Ne(t.treePath,e),t.writeTree)}function Rv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;L(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ks(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Is(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Zr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ks(r,e.snapshotNode,i.oldSnap));else throw ii("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Pv=new bC;class Fh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Un(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mh(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cr(this.viewCache_),s=HC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){return{filter:t}}function GC(t,e){L(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),L(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function KC(t,e,n,r,i){const s=new $C;let l,u;if(n.type===Dt.OVERWRITE){const f=n;f.source.fromUser?l=mc(t,e,f.path,f.snap,r,i,s):(L(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!Q(f.path),l=Sl(t,e,f.path,f.snap,r,i,u,s))}else if(n.type===Dt.MERGE){const f=n;f.source.fromUser?l=YC(t,e,f.path,f.children,r,i,s):(L(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=_c(t,e,f.path,f.children,r,i,u,s))}else if(n.type===Dt.ACK_USER_WRITE){const f=n;f.revert?l=JC(t,e,f.path,r,i,s):l=qC(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===Dt.LISTEN_COMPLETE)l=XC(t,e,n.path,r,s);else throw ii("Unknown operation type: "+n.type);const c=s.getChanges();return QC(e,l,c),{viewCache:l,changes:c}}function QC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wv(yl(e)))}}function xv(t,e,n,r,i,s){const l=e.eventCache;if(El(r,n)!=null)return e;{let u,c;if(Q(n))if(L(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=cr(e),_=f instanceof V?f:V.EMPTY_NODE,g=Lh(r,_);u=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const f=wl(r,cr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=G(n);if(f===".priority"){L(jn(n)===1,"Can't have a priority with additional path components");const _=l.getNode();c=e.serverCache.getNode();const g=Qp(r,n,_,c);g!=null?u=t.filter.updatePriority(_,g):u=l.getNode()}else{const _=le(n);let g;if(l.isCompleteForChild(f)){c=e.serverCache.getNode();const m=Qp(r,n,l.getNode(),c);m!=null?g=l.getNode().getImmediateChild(f).updateChild(_,m):g=l.getNode().getImmediateChild(f)}else g=Mh(r,f,e.serverCache);g!=null?u=t.filter.updateChild(l.getNode(),f,g,_,i,s):u=l.getNode()}}return ts(e,u,l.isFullyInitialized()||Q(n),t.filter.filtersNodes())}}function Sl(t,e,n,r,i,s,l,u){const c=e.serverCache;let f;const _=l?t.filter:t.filter.getIndexedFilter();if(Q(n))f=_.updateFullNode(c.getNode(),r,null);else if(_.filtersNodes()&&!c.isFiltered()){const P=c.getNode().updateChild(n,r);f=_.updateFullNode(c.getNode(),P,null)}else{const P=G(n);if(!c.isCompleteForPath(n)&&jn(n)>1)return e;const R=le(n),B=c.getNode().getImmediateChild(P).updateChild(R,r);P===".priority"?f=_.updatePriority(c.getNode(),B):f=_.updateChild(c.getNode(),P,B,R,Pv,null)}const g=Cv(e,f,c.isFullyInitialized()||Q(n),_.filtersNodes()),m=new Fh(i,g,s);return xv(t,g,n,i,m,u)}function mc(t,e,n,r,i,s,l){const u=e.eventCache;let c,f;const _=new Fh(i,e,s);if(Q(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,l),c=ts(e,f,!0,t.filter.filtersNodes());else{const g=G(n);if(g===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=ts(e,f,u.isFullyInitialized(),u.isFiltered());else{const m=le(n),P=u.getNode().getImmediateChild(g);let R;if(Q(m))R=r;else{const A=_.getCompleteChild(g);A!=null?hv(m)===".priority"&&A.getChild(dv(m)).isEmpty()?R=A:R=A.updateChild(m,r):R=V.EMPTY_NODE}if(P.equals(R))c=e;else{const A=t.filter.updateChild(u.getNode(),g,R,m,_,l);c=ts(e,A,u.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Yp(t,e){return t.eventCache.isCompleteForChild(e)}function YC(t,e,n,r,i,s,l){let u=e;return r.foreach((c,f)=>{const _=Ne(n,c);Yp(e,G(_))&&(u=mc(t,u,_,f,i,s,l))}),r.foreach((c,f)=>{const _=Ne(n,c);Yp(e,G(_))||(u=mc(t,u,_,f,i,s,l))}),u}function qp(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _c(t,e,n,r,i,s,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;Q(n)?f=r:f=new fe(null).setTree(n,r);const _=e.serverCache.getNode();return f.children.inorderTraversal((g,m)=>{if(_.hasChild(g)){const P=e.serverCache.getNode().getImmediateChild(g),R=qp(t,P,m);c=Sl(t,c,new se(g),R,i,s,l,u)}}),f.children.inorderTraversal((g,m)=>{const P=!e.serverCache.isCompleteForChild(g)&&m.value===null;if(!_.hasChild(g)&&!P){const R=e.serverCache.getNode().getImmediateChild(g),A=qp(t,R,m);c=Sl(t,c,new se(g),A,i,s,l,u)}}),c}function qC(t,e,n,r,i,s,l){if(El(i,n)!=null)return e;const u=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Q(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Sl(t,e,n,c.getNode().getChild(n),i,s,u,l);if(Q(n)){let f=new fe(null);return c.getNode().forEachChild(Vr,(_,g)=>{f=f.set(new se(_),g)}),_c(t,e,n,f,i,s,u,l)}else return e}else{let f=new fe(null);return r.foreach((_,g)=>{const m=Ne(n,_);c.isCompleteForPath(m)&&(f=f.set(_,c.getNode().getChild(m)))}),_c(t,e,n,f,i,s,u,l)}}function XC(t,e,n,r,i){const s=e.serverCache,l=Cv(e,s.getNode(),s.isFullyInitialized()||Q(n),s.isFiltered());return xv(t,l,n,r,Pv,i)}function JC(t,e,n,r,i,s){let l;if(El(r,n)!=null)return e;{const u=new Fh(r,e,i),c=e.eventCache.getNode();let f;if(Q(n)||G(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=wl(r,cr(e));else{const g=e.serverCache.getNode();L(g instanceof V,"serverChildren would be complete if leaf node"),_=Lh(r,g)}_=_,f=t.filter.updateFullNode(c,_,s)}else{const _=G(n);let g=Mh(r,_,e.serverCache);g==null&&e.serverCache.isCompleteForChild(_)&&(g=c.getImmediateChild(_)),g!=null?f=t.filter.updateChild(c,_,g,le(n),u,s):e.eventCache.getNode().hasChild(_)?f=t.filter.updateChild(c,_,V.EMPTY_NODE,le(n),u,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=wl(r,cr(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,s)))}return l=e.serverCache.isFullyInitialized()||El(r,Z())!=null,ts(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new xh(r.getIndex()),s=vC(r);this.processor_=WC(s);const l=n.serverCache,u=n.eventCache,c=i.updateFullNode(V.EMPTY_NODE,l.getNode(),null),f=s.updateFullNode(V.EMPTY_NODE,u.getNode(),null),_=new Un(c,l.isFullyInitialized(),i.filtersNodes()),g=new Un(f,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=Wl(g,_),this.eventGenerator_=new IC(this.query_)}get query(){return this.query_}}function eT(t){return t.viewCache_.serverCache.getNode()}function tT(t){return yl(t.viewCache_)}function nT(t,e){const n=cr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Q(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function Xp(t){return t.eventRegistrations_.length===0}function rT(t,e){t.eventRegistrations_.push(e)}function Jp(t,e,n){const r=[];if(n){L(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(n,i);l&&r.push(l)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const l=t.eventRegistrations_[s];if(!l.matches(e))i.push(l);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Zp(t,e,n,r){e.type===Dt.MERGE&&e.source.queryId!==null&&(L(cr(t.viewCache_),"We should always have a full cache before handling merges"),L(yl(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=KC(t.processor_,i,e,n,r);return GC(t.processor_,s.viewCache),L(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Av(t,s.changes,s.viewCache.eventCache.getNode(),null)}function iT(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ye,(s,l)=>{r.push(Zr(s,l))}),n.isFullyInitialized()&&r.push(wv(n.getNode())),Av(t,r,n.getNode(),e)}function Av(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return kC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;class Dv{constructor(){this.views=new Map}}function sT(t){L(!Cl,"__referenceConstructor has already been defined"),Cl=t}function oT(){return L(Cl,"Reference.ts has not been loaded"),Cl}function lT(t){return t.views.size===0}function jh(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return L(s!=null,"SyncTree gave us an op for an invalid query."),Zp(s,e,n,r)}else{let s=[];for(const l of t.views.values())s=s.concat(Zp(l,e,n,r));return s}}function Ov(t,e,n,r,i){const s=e._queryIdentifier,l=t.views.get(s);if(!l){let u=wl(n,i?r:null),c=!1;u?c=!0:r instanceof V?(u=Lh(n,r),c=!1):(u=V.EMPTY_NODE,c=!1);const f=Wl(new Un(u,c,!1),new Un(r,i,!1));return new ZC(e,f)}return l}function uT(t,e,n,r,i,s){const l=Ov(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),rT(l,n),iT(l,n)}function aT(t,e,n,r){const i=e._queryIdentifier,s=[];let l=[];const u=zn(t);if(i==="default")for(const[c,f]of t.views.entries())l=l.concat(Jp(f,n,r)),Xp(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=t.views.get(i);c&&(l=l.concat(Jp(c,n,r)),Xp(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return u&&!zn(t)&&s.push(new(oT())(e._repo,e._path)),{removed:s,events:l}}function Lv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ln(t,e){let n=null;for(const r of t.views.values())n=n||nT(r,e);return n}function Mv(t,e){if(e._queryParams.loadsAllData())return Kl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Fv(t,e){return Mv(t,e)!=null}function zn(t){return Kl(t)!=null}function Kl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl;function cT(t){L(!Tl,"__referenceConstructor has already been defined"),Tl=t}function hT(){return L(Tl,"Reference.ts has not been loaded"),Tl}let fT=1;class eg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fe(null),this.pendingWriteTree_=VC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jv(t,e,n,r,i){return xC(t.pendingWriteTree_,e,n,r,i),i?Hs(t,new ar(Sv(),e,n)):[]}function er(t,e,n=!1){const r=AC(t.pendingWriteTree_,e);if(DC(t.pendingWriteTree_,e)){let s=new fe(null);return r.snap!=null?s=s.set(Z(),!0):ct(r.children,l=>{s=s.set(new se(l),!0)}),Hs(t,new vl(r.path,s,n))}else return[]}function Vs(t,e,n){return Hs(t,new ar(Dh(),e,n))}function dT(t,e,n){const r=fe.fromObject(n);return Hs(t,new Ps(Dh(),e,r))}function pT(t,e){return Hs(t,new Rs(Dh(),e))}function gT(t,e,n){const r=zh(t,n);if(r){const i=Bh(r),s=i.path,l=i.queryId,u=Xe(s,e),c=new Rs(Oh(l),u);return Vh(t,s,c)}else return[]}function Il(t,e,n,r,i=!1){const s=e._path,l=t.syncPointTree_.get(s);let u=[];if(l&&(e._queryIdentifier==="default"||Fv(l,e))){const c=aT(l,e,n,r);lT(l)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=c.removed;if(u=c.events,!i){const _=f.findIndex(m=>m._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(s,(m,P)=>zn(P));if(_&&!g){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const P=vT(m);for(let R=0;R<P.length;++R){const A=P[R],B=A.query,I=Vv(t,A);t.listenProvider_.startListening(rs(B),xs(t,B),I.hashFn,I.onComplete)}}}!g&&f.length>0&&!r&&(_?t.listenProvider_.stopListening(rs(e),null):f.forEach(m=>{const P=t.queryToTagMap.get(Ql(m));t.listenProvider_.stopListening(rs(m),P)}))}yT(t,f)}return u}function Uv(t,e,n,r){const i=zh(t,r);if(i!=null){const s=Bh(i),l=s.path,u=s.queryId,c=Xe(l,e),f=new ar(Oh(u),c,n);return Vh(t,l,f)}else return[]}function mT(t,e,n,r){const i=zh(t,r);if(i){const s=Bh(i),l=s.path,u=s.queryId,c=Xe(l,e),f=fe.fromObject(n),_=new Ps(Oh(u),c,f);return Vh(t,l,_)}else return[]}function vc(t,e,n,r=!1){const i=e._path;let s=null,l=!1;t.syncPointTree_.foreachOnPath(i,(m,P)=>{const R=Xe(m,i);s=s||Ln(P,R),l=l||zn(P)});let u=t.syncPointTree_.get(i);u?(l=l||zn(u),s=s||Ln(u,Z())):(u=new Dv,t.syncPointTree_=t.syncPointTree_.set(i,u));let c;s!=null?c=!0:(c=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((P,R)=>{const A=Ln(R,Z());A&&(s=s.updateImmediateChild(P,A))}));const f=Fv(u,e);if(!f&&!e._queryParams.loadsAllData()){const m=Ql(e);L(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const P=wT();t.queryToTagMap.set(m,P),t.tagToQueryMap.set(P,m)}const _=Gl(t.pendingWriteTree_,i);let g=uT(u,e,n,_,s,c);if(!f&&!l&&!r){const m=Mv(u,e);g=g.concat(ET(t,e,m))}return g}function Uh(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(l,u)=>{const c=Xe(l,e),f=Ln(u,c);if(f)return f});return kv(i,e,s,n,!0)}function _T(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,_)=>{const g=Xe(f,n);r=r||Ln(_,g)});let i=t.syncPointTree_.get(n);i?r=r||Ln(i,Z()):(i=new Dv,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,l=s?new Un(r,!0,!1):null,u=Gl(t.pendingWriteTree_,e._path),c=Ov(i,e,u,s?l.getNode():V.EMPTY_NODE,s);return tT(c)}function Hs(t,e){return zv(e,t.syncPointTree_,null,Gl(t.pendingWriteTree_,Z()))}function zv(t,e,n,r){if(Q(t.path))return Bv(t,e,n,r);{const i=e.get(Z());n==null&&i!=null&&(n=Ln(i,Z()));let s=[];const l=G(t.path),u=t.operationForChild(l),c=e.children.get(l);if(c&&u){const f=n?n.getImmediateChild(l):null,_=Nv(r,l);s=s.concat(zv(u,c,f,_))}return i&&(s=s.concat(jh(i,t,r,n))),s}}function Bv(t,e,n,r){const i=e.get(Z());n==null&&i!=null&&(n=Ln(i,Z()));let s=[];return e.children.inorderTraversal((l,u)=>{const c=n?n.getImmediateChild(l):null,f=Nv(r,l),_=t.operationForChild(l);_&&(s=s.concat(Bv(_,u,c,f)))}),i&&(s=s.concat(jh(i,t,r,n))),s}function Vv(t,e){const n=e.query,r=xs(t,n);return{hashFn:()=>(eT(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?gT(t,n._path,r):pT(t,n._path);{const s=_S(i,n);return Il(t,n,null,s)}}}}function xs(t,e){const n=Ql(e);return t.queryToTagMap.get(n)}function Ql(t){return t._path.toString()+"$"+t._queryIdentifier}function zh(t,e){return t.tagToQueryMap.get(e)}function Bh(t){const e=t.indexOf("$");return L(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new se(t.substr(0,e))}}function Vh(t,e,n){const r=t.syncPointTree_.get(e);L(r,"Missing sync point for query tag that we're tracking");const i=Gl(t.pendingWriteTree_,e);return jh(r,n,i,null)}function vT(t){return t.fold((e,n,r)=>{if(n&&zn(n))return[Kl(n)];{let i=[];return n&&(i=Lv(n)),ct(r,(s,l)=>{i=i.concat(l)}),i}})}function rs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(hT())(t._repo,t._path):t}function yT(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ql(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function wT(){return fT++}function ET(t,e,n){const r=e._path,i=xs(t,e),s=Vv(t,n),l=t.listenProvider_.startListening(rs(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)L(!zn(u.value),"If we're adding a query, it shouldn't be shadowed");else{const c=u.fold((f,_,g)=>{if(!Q(f)&&_&&zn(_))return[Kl(_).query];{let m=[];return _&&(m=m.concat(Lv(_).map(P=>P.query))),ct(g,(P,R)=>{m=m.concat(R)}),m}});for(let f=0;f<c.length;++f){const _=c[f];t.listenProvider_.stopListening(rs(_),xs(t,_))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hh(n)}node(){return this.node_}}class $h{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new $h(this.syncTree_,n)}node(){return Uh(this.syncTree_,this.path_)}}const ST=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},tg=function(t,e,n){if(!t||typeof t!="object")return t;if(L(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return CT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return TT(t[".sv"],e);L(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},CT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:L(!1,"Unexpected server value: "+t)}},TT=function(t,e,n){t.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const i=e.node();if(L(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return typeof l!="number"?r:l+r},IT=function(t,e,n,r){return bh(e,new $h(n,t),r)},Hv=function(t,e,n){return bh(t,new Hh(e),n)};function bh(t,e,n){const r=t.getPriority().val(),i=tg(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const l=t,u=tg(l.getValue(),e,n);return u!==l.getValue()||i!==l.getPriority().val()?new Pe(u,De(i)):t}else{const l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Pe(i))),l.forEachChild(ye,(u,c)=>{const f=bh(c,e.getImmediateChild(u),n);f!==c&&(s=s.updateImmediateChild(u,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Gh(t,e){let n=e instanceof se?e:new se(e),r=t,i=G(n);for(;i!==null;){const s=Yr(r.node.children,i)||{children:{},childCount:0};r=new Wh(i,r,s),n=le(n),i=G(n)}return r}function ai(t){return t.node.value}function $v(t,e){t.node.value=e,yc(t)}function bv(t){return t.node.childCount>0}function kT(t){return ai(t)===void 0&&!bv(t)}function Yl(t,e){ct(t.node.children,(n,r)=>{e(new Wh(n,t,r))})}function Wv(t,e,n,r){n&&e(t),Yl(t,i=>{Wv(i,e,!0)})}function NT(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function $s(t){return new se(t.parent===null?t.name:$s(t.parent)+"/"+t.name)}function yc(t){t.parent!==null&&RT(t.parent,t.name,t)}function RT(t,e,n){const r=kT(n),i=cn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=/[\[\].#$\/\u0000-\u001F\u007F]/,xT=/[\[\].#$\u0000-\u001F\u007F]/,la=10*1024*1024,Gv=function(t){return typeof t=="string"&&t.length!==0&&!PT.test(t)},Kv=function(t){return typeof t=="string"&&t.length!==0&&!xT.test(t)},AT=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kv(t)},DT=function(t,e,n,r){Kh(_h(t,"value"),e,n)},Kh=function(t,e,n){const r=n instanceof se?new qS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Yn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Yn(r)+" with contents = "+e.toString());if(b_(e))throw new Error(t+"contains "+e.toString()+" "+Yn(r));if(typeof e=="string"&&e.length>la/3&&$l(e)>la)throw new Error(t+"contains a string greater than "+la+" utf8 bytes "+Yn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ct(e,(l,u)=>{if(l===".value")i=!0;else if(l!==".priority"&&l!==".sv"&&(s=!0,!Gv(l)))throw new Error(t+" contains an invalid key ("+l+") "+Yn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XS(r,l),Kh(t,u,r),JS(r)}),i&&s)throw new Error(t+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},Qv=function(t,e,n,r){if(!Kv(n))throw new Error(_h(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},OT=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qv(t,e,n)},LT=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Gv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AT(n))throw new Error(_h(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qh(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Nh(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Yv(t,e,n){Qh(t,n),qv(t,r=>Nh(r,e))}function Ht(t,e,n){Qh(t,n),qv(t,r=>At(r,e)||At(e,r))}function qv(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(jT(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Zi&&be("event: "+n.toString()),ui(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="repo_interrupt",zT=25;class BT{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_l(),this.transactionQueueTree_=new Wh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VT(t,e,n){if(t.stats_=Ih(t.repoInfo_),t.forceRestClient_||ES())t.server_=new ml(t.repoInfo_,(r,i,s,l)=>{ng(t,r,i,s,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ke(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new tn(t.repoInfo_,e,(r,i,s,l)=>{ng(t,r,i,s,l)},r=>{rg(t,r)},r=>{$T(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=kS(t.repoInfo_,()=>new TC(t.stats_,t.server_)),t.infoData_=new yC,t.infoSyncTree_=new eg({startListening:(r,i,s,l)=>{let u=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(u=Vs(t.infoSyncTree_,r._path,c),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),qh(t,"connected",!1),t.serverSyncTree_=new eg({startListening:(r,i,s,l)=>(t.server_.listen(r,s,i,(u,c)=>{const f=l(u,c);Ht(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function HT(t){const n=t.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yh(t){return ST({timestamp:HT(t)})}function ng(t,e,n,r,i){t.dataUpdateCount++;const s=new se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(i)if(r){const c=cl(n,f=>De(f));l=mT(t.serverSyncTree_,s,c,i)}else{const c=De(n);l=Uv(t.serverSyncTree_,s,c,i)}else if(r){const c=cl(n,f=>De(f));l=dT(t.serverSyncTree_,s,c)}else{const c=De(n);l=Vs(t.serverSyncTree_,s,c)}let u=s;l.length>0&&(u=Xl(t,s)),Ht(t.eventQueue_,u,l)}function rg(t,e){qh(t,"connected",e),e===!1&&GT(t)}function $T(t,e){ct(e,(n,r)=>{qh(t,n,r)})}function qh(t,e,n){const r=new se("/.info/"+e),i=De(n);t.infoData_.updateSnapshot(r,i);const s=Vs(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function Xv(t){return t.nextWriteId_++}function bT(t,e,n){const r=_T(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=De(i).withIndex(e._queryParams.getIndex());vc(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Vs(t.serverSyncTree_,e._path,s);else{const u=xs(t.serverSyncTree_,e);l=Uv(t.serverSyncTree_,e._path,s,u)}return Ht(t.eventQueue_,e._path,l),Il(t.serverSyncTree_,e,n,null,!0),s},i=>(ql(t,"get for query "+ke(e)+" failed: "+i),Promise.reject(new Error(i))))}function WT(t,e,n,r,i){ql(t,"set",{path:e.toString(),value:n,priority:r});const s=Yh(t),l=De(n,r),u=Uh(t.serverSyncTree_,e),c=Hv(l,u,s),f=Xv(t),_=jv(t.serverSyncTree_,e,c,f,!0);Qh(t.eventQueue_,_),t.server_.put(e.toString(),l.val(!0),(m,P)=>{const R=m==="ok";R||at("set at "+e+" failed: "+m);const A=er(t.serverSyncTree_,f,!R);Ht(t.eventQueue_,e,A),YT(t,i,m,P)});const g=ny(t,e);Xl(t,g),Ht(t.eventQueue_,g,[])}function GT(t){ql(t,"onDisconnectEvents");const e=Yh(t),n=_l();dc(t.onDisconnect_,Z(),(i,s)=>{const l=IT(i,s,t.serverSyncTree_,e);Ev(n,i,l)});let r=[];dc(n,Z(),(i,s)=>{r=r.concat(Vs(t.serverSyncTree_,i,s));const l=ny(t,i);Xl(t,l)}),t.onDisconnect_=_l(),Ht(t.eventQueue_,Z(),r)}function KT(t,e,n){let r;G(e._path)===".info"?r=vc(t.infoSyncTree_,e,n):r=vc(t.serverSyncTree_,e,n),Yv(t.eventQueue_,e._path,r)}function ig(t,e,n){let r;G(e._path)===".info"?r=Il(t.infoSyncTree_,e,n):r=Il(t.serverSyncTree_,e,n),Yv(t.eventQueue_,e._path,r)}function QT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UT)}function ql(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),be(n,...e)}function YT(t,e,n,r){e&&ui(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const l=new Error(s);l.code=i,e(l)}})}function Jv(t,e,n){return Uh(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function Xh(t,e=t.transactionQueueTree_){if(e||Jl(t,e),ai(e)){const n=ey(t,e);L(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&qT(t,$s(e),n)}else bv(e)&&Yl(e,n=>{Xh(t,n)})}function qT(t,e,n){const r=n.map(f=>f.currentWriteId),i=Jv(t,e,r);let s=i;const l=i.hash();for(let f=0;f<n.length;f++){const _=n[f];L(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const g=Xe(e,_.path);s=s.updateChild(g,_.currentOutputSnapshotRaw)}const u=s.val(!0),c=e;t.server_.put(c.toString(),u,f=>{ql(t,"transaction put response",{path:c.toString(),status:f});let _=[];if(f==="ok"){const g=[];for(let m=0;m<n.length;m++)n[m].status=2,_=_.concat(er(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&g.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Jl(t,Gh(t.transactionQueueTree_,e)),Xh(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,_);for(let m=0;m<g.length;m++)ui(g[m])}else{if(f==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{at("transaction at "+c.toString()+" failed: "+f);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=f}Xl(t,e)}},l)}function Xl(t,e){const n=Zv(t,e),r=$s(n),i=ey(t,n);return XT(t,i,r),r}function XT(t,e,n){if(e.length===0)return;const r=[];let i=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const c=e[u],f=Xe(n,c.path);let _=!1,g;if(L(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)_=!0,g=c.abortReason,i=i.concat(er(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=zT)_=!0,g="maxretry",i=i.concat(er(t.serverSyncTree_,c.currentWriteId,!0));else{const m=Jv(t,c.path,l);c.currentInputSnapshot=m;const P=e[u].update(m.val());if(P!==void 0){Kh("transaction failed: Data returned ",P,c.path);let R=De(P);typeof P=="object"&&P!=null&&cn(P,".priority")||(R=R.updatePriority(m.getPriority()));const B=c.currentWriteId,I=Yh(t),S=Hv(R,m,I);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=S,c.currentWriteId=Xv(t),l.splice(l.indexOf(B),1),i=i.concat(jv(t.serverSyncTree_,c.path,S,c.currentWriteId,c.applyLocally)),i=i.concat(er(t.serverSyncTree_,B,!0))}else _=!0,g="nodata",i=i.concat(er(t.serverSyncTree_,c.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],_&&(e[u].status=2,function(m){setTimeout(m,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(g==="nodata"?r.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):r.push(()=>e[u].onComplete(new Error(g),!1,null))))}Jl(t,t.transactionQueueTree_);for(let u=0;u<r.length;u++)ui(r[u]);Xh(t,t.transactionQueueTree_)}function Zv(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&ai(r)===void 0;)r=Gh(r,n),e=le(e),n=G(e);return r}function ey(t,e){const n=[];return ty(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ty(t,e,n){const r=ai(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yl(e,i=>{ty(t,i,n)})}function Jl(t,e){const n=ai(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,$v(e,n.length>0?n:void 0)}Yl(e,r=>{Jl(t,r)})}function ny(t,e){const n=$s(Zv(t,e)),r=Gh(t.transactionQueueTree_,e);return NT(r,i=>{ua(t,i)}),ua(t,r),Wv(r,i=>{ua(t,i)}),n}function ua(t,e){const n=ai(e);if(n){const r=[];let i=[],s=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(L(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):(L(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),i=i.concat(er(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&r.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));s===-1?$v(e,void 0):n.length=s+1,Ht(t.eventQueue_,$s(e),i);for(let l=0;l<r.length;l++)ui(r[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function ZT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}const sg=function(t,e){const n=eI(t),r=n.namespace;n.domain==="firebase.com"&&un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fS();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nv(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new se(n.pathString)}},eI=function(t){let e="",n="",r="",i="",s="",l=!0,u="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let _=t.indexOf("/");_===-1&&(_=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(_,g)),_<g&&(i=JT(t.substring(_,g)));const m=ZT(t.substring(Math.min(t.length,g)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const P=e.slice(0,f);if(P.toLowerCase()==="localhost")n="localhost";else if(P.split(".").length<=2)n=P;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),n=e.substring(R+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:l,scheme:u,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ke(this.snapshot.exportVal())}}class nI{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:hv(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){const e=$p(this._queryParams),n=Ch(e);return n==="{}"?"default":n}get _queryObject(){return $p(this._queryParams)}isEqual(e){if(e=oi(e),!(e instanceof Jh))return!1;const n=this._repo===e._repo,r=Nh(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YS(this._path)}}class hn extends Jh{constructor(e,n){super(e,n,new Ah,!1)}get parent(){const e=dv(this._path);return e===null?null:new hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class As{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new se(e),r=wc(this.ref,e);return new As(this._node.getChild(n),r,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new As(i,wc(this.ref,r),ye)))}hasChild(e){const n=new se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Mi(t,e){return t=oi(t),t._checkNotDeleted("ref"),e!==void 0?wc(t._root,e):t._root}function wc(t,e){return t=oi(t),G(t._path)===null?OT("child","path",e):Qv("child","path",e),new hn(t._repo,Ne(t._path,e))}function rI(t,e){t=oi(t),LT("set",t._path),DT("set",e,t._path);const n=new Hl;return WT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function iI(t){t=oi(t);const e=new ry(()=>{}),n=new Zl(e);return bT(t._repo,t,n).then(r=>new As(r,new hn(t._repo,t._path),t._queryParams.getIndex()))}class Zl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new tI("value",this,new As(e.snapshotNode,new hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new nI(this,e,n):null}matches(e){return e instanceof Zl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function sI(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const c=n,f=(_,g)=>{ig(t._repo,t,u),c(_,g)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new ry(n,s||void 0),u=new Zl(l);return KT(t._repo,t,u),()=>ig(t._repo,t,u)}function aa(t,e,n,r){return sI(t,"value",e,n,r)}sT(hn);cT(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FIREBASE_DATABASE_EMULATOR_HOST",Ec={};let lI=!1;function uI(t,e,n,r){t.repoInfo_=new nv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function aI(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),be("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=sg(s,i),u=l.repoInfo,c;typeof process<"u"&&Ip&&(c=Ip[oI]),c?(s=`http://${c}?ns=${u.namespace}`,l=sg(s,i),u=l.repoInfo):l.repoInfo.secure;const f=new CS(t.name,t.options,e);MT("Invalid Firebase Database URL",l),Q(l.path)||un("Database URL must point to the root of a Firebase Database (not including a child path).");const _=hI(u,t,f,new SS(t.name,n));return new fI(_,t)}function cI(t,e){const n=Ec[e];(!n||n[t.key]!==t)&&un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),QT(t),delete n[t.key]}function hI(t,e,n,r){let i=Ec[e.name];i||(i={},Ec[e.name]=i);let s=i[t.toURLString()];return s&&un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new BT(t,lI,n,r),i[t.toURLString()]=s,s}class fI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&un("Cannot call "+e+" on a deleted database.")}}function dI(t=L_(),e){const n=A_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=C_("database");r&&pI(n,...r)}return n}function pI(t,e,n,r={}){t=oi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&un("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uo(Uo.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:I_(r.mockUserToken,t.app.options.projectId);s=new Uo(l)}uI(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){oS(D_),Ss(new qr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return aI(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Dn(kp,Np,t),Dn(kp,Np,"esm2017")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gI();const mI={databaseURL:"https://license-plate-recognitio-c5b0c-default-rtdb.firebaseio.com",apiKey:"AIzaSyDoDvm8AGY_2i93l8AT427Cl0qunF8C9lc",authDomain:"license-plate-recognitio-c5b0c.firebaseapp.com",projectId:"license-plate-recognitio-c5b0c",storageBucket:"license-plate-recognitio-c5b0c.appspot.com",messagingSenderId:"742359689844",appId:"1:742359689844:web:391154c3ece2c72f94bf21"},iy=O_(mI);sS(iy);const Fi=dI(iy),_I=()=>{const t=[];for(let e=1;e<=10;e++)for(let n=1;n<=4;n++)t.push(`${e}0${n}`);return t},vI=t=>{if(!t)return"";const e=parseInt(t.charAt(0)),n=parseInt(t.slice(2));return`${t} (${yI(e)} Floor, Unit ${n})`},yI=t=>{const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])},ji={getItem:t=>{try{return typeof window<"u"&&window.localStorage?localStorage.getItem(t):null}catch(e){return console.error("Error accessing localStorage:",e),null}},setItem:(t,e)=>{try{typeof window<"u"&&window.localStorage&&localStorage.setItem(t,e)}catch(n){console.error("Error setting localStorage:",n)}}};function wI(){const[t,e]=Te.useState({name:"",phone:"",flatNumber:"",purpose:"",hasVehicle:!1,vehicleNumber:""}),[n,r]=Te.useState(null),[i,s]=Te.useState(null),[l,u]=Te.useState(!1),[c,f]=Te.useState({}),[_,g]=Te.useState(0),[m,P]=Te.useState(!1),[R,A]=Te.useState(!1),[B,I]=Te.useState(!0),[S,k]=Te.useState({available:0,total:0}),[D,j]=Te.useState(""),[U,w]=Te.useState(""),p=_I();Te.useEffect(()=>{try{const C=Mi(Fi,"flatOwners"),v=aa(C,W=>{W.exists()&&f(W.val())},W=>{console.error("Error fetching flat owners data:",W)});return()=>v()}catch(C){console.error("Error in flat owners check:",C)}},[]),Te.useEffect(()=>{try{const C=Mi(Fi,"parking"),v=aa(C,W=>{if(W.exists()){const oe=W.val();k({available:oe.available||5,total:oe.total||20}),I(oe.available>0)}else I(!0),k({available:5,total:20})},W=>{console.error("Error fetching parking data:",W)});return()=>v()}catch(C){console.error("Error in parking availability check:",C)}},[]),Te.useEffect(()=>{try{(async()=>{if(!ji.getItem("deviceId")){const oe=`device_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;ji.setItem("deviceId",oe)}const W=ji.getItem("requestCount");if(W){const oe=parseInt(W,10);g(oe),oe>=3&&P(!0)}})()}catch(C){console.error("Error checking previous requests:",C)}},[]),Te.useEffect(()=>{if(!t.vehicleNumber){A(!1);return}(async()=>{try{const v=t.vehicleNumber.toUpperCase();if(v.length>=7){const Ge=v.substring(4);if(Ge.includes("AMB")||Ge.includes("FR")||Ge.includes("PB")){A(!0);return}}const W=Mi(Fi,"emergencyVehicles"),oe=await iI(W);if(oe.exists()){const Ge=oe.val(),ae=Object.values(Ge).some(F=>F.licensePlate===v);A(ae)}else A(!1)}catch(v){console.error("Error checking emergency vehicles:",v),A(!1)}})()},[t.vehicleNumber]);const y=C=>{const{name:v,value:W,type:oe,checked:Ge}=C.target;if(v==="phone"){const ae=W.replace(/\D/g,"").slice(0,10);e(F=>({...F,[v]:ae})),ae&&ae.length!==10?j("Phone number must be 10 digits"):j("");return}if(v==="vehicleNumber"){const ae=W.toUpperCase();e(F=>({...F,[v]:ae})),ae&&!/^[A-Z]{2}[0-9]{2}[A-Z]{1,2}[0-9]{4}$/.test(ae)?w("Please enter a valid vehicle number (e.g., MH02AB1234)"):w("");return}e(ae=>({...ae,[v]:oe==="checkbox"?Ge:W}))},E=()=>{j(""),w("");let C=!0;return t.name.trim()||(alert("Please enter your name"),C=!1),(!t.phone.trim()||t.phone.length!==10)&&(j("Please enter a valid 10-digit phone number"),C=!1),t.flatNumber||(alert("Please select a flat number"),C=!1),t.purpose.trim()||(alert("Please enter the purpose of your visit"),C=!1),t.hasVehicle&&!t.vehicleNumber&&(w("Please enter your vehicle number"),C=!1),t.vehicleNumber&&!/^[A-Z]{2}[0-9]{2}[A-Z]{1,2}[0-9]{4}$/.test(t.vehicleNumber)&&(w("Please enter a valid vehicle number (e.g., MH02AB1234)"),C=!1),m&&(alert("Maximum number of entry attempts reached. Please contact the flat owner."),C=!1),t.hasVehicle&&!B&&!R&&(alert("All parking spots are currently full. Please contact the flat owner."),C=!1),C},T=async C=>{if(C.preventDefault(),l||!E())return;u(!0),r(null),s(180);const v=setInterval(()=>{s(W=>W<=1?(clearInterval(v),r("timeout"),0):W-1)},1e3);try{const W=_+1;g(W),ji.setItem("requestCount",W.toString()),W>=3&&P(!0);const oe=c[t.flatNumber]||null,Ge={...t,status:R?"approved":"pending",createdAt:new Date().toISOString(),timestamp:new Date().getTime(),deviceId:ji.getItem("deviceId"),isEmergencyVehicle:R,flatOwnerInfo:oe?{name:oe.name,userId:oe.userId,mobileNumber:oe.mobileNumber}:null},ae=Date.now().toString();try{await rI(Mi(Fi,"guestRequests/"+ae),Ge),console.log("Request written with ID: ",ae)}catch($){throw console.error("Error writing to database:",$),r("error"),clearInterval(v),s(null),$}const F=Mi(Fi,"guestRequests/"+ae),H=aa(F,$=>{const ee=$.val();(ee==null?void 0:ee.status)==="approved"?(clearInterval(v),r("approved"),s(null)):(ee==null?void 0:ee.status)==="denied"&&(clearInterval(v),r("denied"),s(null))});setTimeout(()=>{H()},18e4),e({name:"",phone:"",flatNumber:"",purpose:"",hasVehicle:!1,vehicleNumber:""})}catch(W){console.error("Error submitting request:",W),r("error"),W.code==="permission-denied"&&alert("Firebase permissions error. Please check Firestore rules.")}finally{u(!1)}};return m?b.jsx("div",{className:"App",children:b.jsxs("div",{className:"container",children:[b.jsx("h1",{children:"Guest Entry Portal"}),b.jsxs("div",{className:"status-message error",children:[b.jsx("h2",{children:"Maximum Entry Attempts Reached"}),b.jsx("p",{children:"You have reached the maximum number of entry attempts (3). Please contact the flat owner directly for assistance."})]})]})}):b.jsx("div",{className:"App",children:b.jsxs("div",{className:"container",children:[b.jsx("h1",{children:"Guest Entry Portal"}),b.jsx("p",{children:"Please fill in your details to request entry"}),n&&b.jsxs("div",{className:`status-message ${n}`,children:[n==="approved"&&b.jsxs(b.Fragment,{children:["Welcome to Ocean Breeze",b.jsx("div",{className:"sub-message",children:"Gate is opening..."})]}),n==="denied"&&b.jsx(b.Fragment,{children:"Sorry, you are not allowed to enter."}),n==="timeout"&&b.jsx(b.Fragment,{children:"Request timed out. Please try again."}),n==="error"&&b.jsx(b.Fragment,{children:"An error occurred. Please try again."})]}),t.hasVehicle&&!B&&!R&&b.jsxs("div",{className:"status-message warning",children:["All parking spots are currently full (",S.available,"/",S.total,"). Please contact the flat owner or visit without a vehicle."]}),R&&b.jsx("div",{className:"status-message info",children:"Emergency vehicle detected. You will be granted immediate access."}),b.jsxs("form",{onSubmit:T,children:[b.jsx("input",{type:"text",name:"name",value:t.name,onChange:y,placeholder:"Full Name *",required:!0}),b.jsxs("div",{className:"form-group",children:[b.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:y,placeholder:"Phone Number (10 digits) *",required:!0,className:D?"error":""}),D&&b.jsx("div",{className:"error-message",children:D})]}),b.jsxs("div",{className:"form-group",children:[b.jsxs("select",{name:"flatNumber",value:t.flatNumber,onChange:y,required:!0,children:[b.jsx("option",{value:"",children:"Select Flat Number *"}),p.map(C=>b.jsxs("option",{value:C,children:[vI(C),c[C]?` - ${c[C].name}`:""]},C))]}),t.flatNumber&&c[t.flatNumber]&&b.jsxs("div",{className:"info-message",children:["Owner: ",c[t.flatNumber].name]})]}),b.jsx("textarea",{name:"purpose",value:t.purpose,onChange:y,placeholder:"Purpose of Visit *",required:!0}),b.jsx("div",{className:"checkbox-container",children:b.jsxs("label",{children:[b.jsx("input",{type:"checkbox",name:"hasVehicle",checked:t.hasVehicle,onChange:y}),"I have a vehicle"]})}),t.hasVehicle&&b.jsxs("div",{className:"form-group",children:[b.jsx("input",{type:"text",name:"vehicleNumber",value:t.vehicleNumber,onChange:y,placeholder:"Vehicle Number (e.g., MH02AB1234) *",className:U?"error":""}),U&&b.jsx("div",{className:"error-message",children:U})]}),b.jsx("button",{type:"submit",disabled:l||i!==null,children:i!==null?`WAITING ${Math.floor(i/60)}:${(i%60).toString().padStart(2,"0")}`:"SUBMIT REQUEST"})]}),!m&&b.jsxs("div",{className:"request-count",children:["Requests remaining: ",Math.max(0,3-_),"/3"]})]})})}const EI=ca.createRoot(document.getElementById("root"));EI.render(b.jsx(e0.StrictMode,{children:b.jsx(wI,{})}));
